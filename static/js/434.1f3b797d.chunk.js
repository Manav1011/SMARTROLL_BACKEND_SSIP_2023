"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[434],{3434:(e,s,t)=>{t.r(s),t.d(s,{default:()=>u});var a=t(5043),r=(t(8132),t(7128)),n=t(6213),c=(t(9456),t(2355)),l=t(3946),i=t(3216),d=t(579);const o=function(e){let{visible:s,setVisible:t,SelectedTeacher:o}=e;const{state:h,dispatch:x}=(0,a.useContext)(r.i),{accessToken:j,refreshToken:m,currentBatch:u}=h,[g,b]=(0,a.useState)([]);(0,i.Zp)();let p=g;const f=(e,s)=>{p.map((t=>{t==s&&(t.selected=e)}))};return(0,a.useEffect)((()=>{s&&(async()=>{const e=n.A.create();let s={"Content-Type":"application/json","ngrok-skip-browser-warning":!0},t=await(0,c.R)(e,"/manage/get_subjects_of_current_batch","get",s,null,{batch_slug:u.slug,teacher_id:o.id});if(0==t.error){let e=t.response;b(e.data.data)}})()}),[s]),(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)(l.FB,{className:"card w-100",style:{background:"#3c4b64"},placement:"end",visible:s,onHide:()=>t(!1),"data-coreui-backdrop":"static",children:[(0,d.jsxs)(l.Cd,{className:"card-header text-light",style:{background:"#303c54"},children:[(0,d.jsx)(l.jd,{children:o.profile.name}),(0,d.jsx)("button",{className:"btn btn-outline-light",onClick:()=>t(!1),children:(0,d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-x-lg",viewBox:"0 0 16 16",children:(0,d.jsx)("path",{d:"M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8 2.146 2.854Z"})})})]}),(0,d.jsx)(l.Cd,{className:"card-header text-light",style:{background:"#303c54"},children:(0,d.jsxs)(l.jd,{children:["Branch - ",o.branch.branch_name," | Batch - ",u.batch_name]})}),(0,d.jsx)(l.Xu,{children:(0,d.jsx)(l.sK,{children:(0,d.jsx)(l.UF,{xs:!0,style:g.length>0?{}:{display:"flex",justifyContent:"center"},children:g.length>0?(0,d.jsxs)(l.E$,{className:"mb-4",children:[(0,d.jsx)(l.V0,{className:"text-center",children:(0,d.jsx)("strong",{children:"Subjects"})}),(0,d.jsxs)(l.W6,{children:[(0,d.jsxs)(l._v,{align:"middle",className:"mb-0 border",hover:!0,responsive:!0,children:[(0,d.jsx)(l.wV,{color:"light",children:(0,d.jsxs)(l.YI,{children:[(0,d.jsx)(l.$s,{children:"Name"}),(0,d.jsx)(l.$s,{className:"text-center",children:"Code"}),(0,d.jsx)(l.$s,{className:"text-center",children:"Action"})]})}),(0,d.jsx)(l.jS,{children:g.map(((e,s)=>(0,d.jsxs)(l.YI,{children:[(0,d.jsx)(l.cC,{children:(0,d.jsx)("div",{children:e.subject_name})}),(0,d.jsx)(l.cC,{className:"text-center",children:(0,d.jsx)("div",{children:e.code})}),(0,d.jsx)(l.cC,{className:"text-center",children:(0,d.jsx)("div",{children:e.selected?(0,d.jsx)(l.CK,{id:"flexCheckChecked-".concat(s),defaultChecked:!0,onChange:s=>f(s.target.checked,e)}):(0,d.jsx)(l.CK,{id:"flexCheckDefault-".concat(s),onChange:s=>f(s.target.checked,e)})})})]},s)))})]}),(0,d.jsx)("button",{className:"btn btn-outline-dark form-control mt-4",type:"submit",onClick:async()=>{b(p);let e=g.filter((e=>!0===e.selected)).map((e=>e.slug)),s={teacher_id:o.id,selected_subjects:e};await(async e=>{const s=n.A.create();let a={"Content-Type":"application/json","ngrok-skip-browser-warning":!0},r=await(0,c.R)(s,"/manage/add_subjects_to_teacher","post",a,e,null);0==r.error&&(r.response,t(!1));(0,c.S)("success","Subject Added successfully...!")})(s)},children:"Set Subject"})]})]}):(0,d.jsxs)(l.JY,{animation:!1,autohide:!1,visible:!0,children:[(0,d.jsxs)(l.AH,{children:[(0,d.jsx)("svg",{className:"rounded me-2",width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid slice",focusable:"false",role:"img",children:(0,d.jsx)("rect",{width:"100%",height:"100%",fill:"#007aff"})}),(0,d.jsx)("div",{className:"fw-bold me-auto",children:"SMARTROLL ADMINISTRATION"})]}),(0,d.jsx)(l.Bw,{children:"There are no subjects available...Please add some!"})]})})})})]})})};var h=t(9426),x=t(3023),j=t.n(x);const m=e=>{const[s,t]=(0,a.useState)(!1),[r,i]=(0,h.A)();return(0,d.jsxs)(l.qI,{className:"row g-3 needs-validation",noValidate:!0,validated:s,onSubmit:s=>{s.preventDefault();if(!1===s.currentTarget.checkValidity())return s.preventDefault(),s.stopPropagation(),void j()({title:"Please Enter Valid Information",icon:"error",button:"OK"});const a=s.target.tname.value,l=s.target.temail.value;if(t(!0),a&&l){(async s=>{const t=n.A.create();let a=await i(r,t,"/manage/add_teacher/","post",{"Content-Type":"application/json","ngrok-skip-browser-warning":!0},s,null);if(0==a.error){let s=a.response;e((e=>[...e,s.data.data]))}else alert(a.errorMessage.message)})({name:a,email:l}),(0,c.S)("success","Teacher Added successfully...!")}else alert("hello")},children:[(0,d.jsxs)(l.UF,{md:6,children:[(0,d.jsx)(l.A6,{htmlFor:"validationCustom01",children:"Teacher Name"}),(0,d.jsx)(l.OG,{type:"text",id:"validationCustom01",name:"tname",required:!0}),(0,d.jsx)(l.To,{valid:!0,children:"Looks good!"})]}),(0,d.jsxs)(l.UF,{md:6,children:[(0,d.jsx)(l.A6,{htmlFor:"validationCustom01",children:"Teacher E-mail"}),(0,d.jsx)(l.OG,{type:"email",id:"validationCustom02",name:"temail",required:!0}),(0,d.jsx)(l.To,{valid:!0,children:"Looks good!"})]}),(0,d.jsx)(l.UF,{xs:12,children:(0,d.jsx)("button",{className:"btn btn-outline-dark form-control",type:"submit",children:"Submit form"})})]})},u=()=>{const[e,s]=(0,h.A)(),[t,r]=(0,a.useState)(!1),[c,i]=(0,a.useState)(null),[x,j]=(0,a.useState)([]);return(0,a.useEffect)((()=>{(async()=>{const t=n.A.create();let a=await s(e,t,"/manage/get_teacher","get",{"Content-Type":"application/json","ngrok-skip-browser-warning":!0});if(0==a.error){let e=a.response;j(e.data.data)}})()}),[]),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(l.sK,{children:(0,d.jsx)(l.UF,{xs:12,children:(0,d.jsxs)(l.E$,{className:"mb-3",children:[(0,d.jsx)(l.V0,{children:(0,d.jsx)("strong",{children:"Teachers"})}),(0,d.jsx)(l.W6,{children:m(j)})]})})}),(0,d.jsx)(l.sK,{children:(0,d.jsx)(l.UF,{xs:!0,children:(0,d.jsxs)(l.E$,{className:"mb-4",children:[(0,d.jsx)(l.V0,{children:(0,d.jsx)("strong",{children:"Teacher History"})}),(0,d.jsx)(l.W6,{children:(0,d.jsxs)(l._v,{align:"middle",className:"mb-0 border",hover:!0,responsive:!0,children:[(0,d.jsx)(l.wV,{color:"light",children:(0,d.jsxs)(l.YI,{children:[(0,d.jsx)(l.$s,{children:"Name"}),(0,d.jsx)(l.$s,{children:"E-mail"})]})}),(0,d.jsx)(l.jS,{children:x.map(((e,s)=>(0,d.jsxs)(l.YI,{"v-for":"item in tableItems",children:[(0,d.jsx)(l.cC,{children:(0,d.jsx)("div",{children:e.profile.name.charAt(0)+e.profile.name.slice(1)})}),(0,d.jsx)(l.cC,{children:(0,d.jsx)("div",{children:e.profile.email})})]},s)))})]})})]})})}),c?(0,d.jsx)(o,{visible:t,setVisible:r,SelectedTeacher:c}):null]})}},8132:()=>{}}]);
//# sourceMappingURL=434.1f3b797d.chunk.js.map