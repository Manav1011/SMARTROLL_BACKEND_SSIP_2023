"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[3255],{3255:(e,s,t)=>{t.r(s),t.d(s,{default:()=>u});var r=t(2791),a=t(5294),n=t(2585),l=t(2937),i=t(3645),o=t(7689),d=t(184);const c=(e,s,t)=>{const[c,u]=(0,r.useState)(!1),[h,m]=(0,r.useState)(""),[x,j]=(0,r.useState)(""),[g,b]=(0,r.useState)(""),[p,v]=(0,r.useState)(""),{state:C,dispatch:_}=(0,r.useContext)(n.y),{accessToken:S,refreshToken:k,semesters:f,objectCount:y}=C,[T,N]=(0,r.useState)(y);(0,o.s0)();return(0,d.jsxs)(l.lx,{className:"row g-3 needs-validation",noValidate:!0,validated:c,onSubmit:e=>{!1===e.currentTarget.checkValidity()&&(e.preventDefault(),e.stopPropagation()),e.preventDefault(),u(!0);(async e=>{const t=a.Z.create();let r={"Content-Type":"application/json","ngrok-skip-browser-warning":!0},n=await(0,i.J)(t,"/manage/add_semester","post",r,e,null);if(0==n.error){let e=n.response,t={...y};t.semesters+=1,console.log(t),_({type:"GET_OBJECTS",payload:t}),e.data.data.status&&s((s=>[...s,e.data.data]))}else console.log(n.error)})({batch_slug:t,semester_number:h,start_date:g,end_date:p}),(0,i.w)("success","Semester Added successfully...!")},children:[(0,d.jsxs)(l.b7,{md:12,children:[(0,d.jsx)(l.L8,{htmlFor:"validationCustom01",children:"Semester Number"}),(0,d.jsx)(l.jO,{type:"number",id:"validationCustom01",onChange:e=>m(e.target.value),required:!0}),(0,d.jsx)(l.CO,{valid:!0,children:"Looks good!"})]}),(0,d.jsxs)(l.b7,{md:6,children:[(0,d.jsx)(l.L8,{htmlFor:"validationCustom02",children:"Term Start Date"}),(0,d.jsx)(l.jO,{type:"date",id:"validationCustom02",onChange:e=>b(e.target.value),required:!0}),(0,d.jsx)(l.CO,{valid:!0,children:"Looks good!"})]}),(0,d.jsxs)(l.b7,{md:6,children:[(0,d.jsx)(l.L8,{htmlFor:"validationCustom02",children:"Term End Date"}),(0,d.jsx)(l.jO,{type:"date",id:"validationCustom02",onChange:e=>v(e.target.value),required:!0}),(0,d.jsx)(l.CO,{valid:!0,children:"Looks good!"})]}),(0,d.jsx)(l.b7,{xs:12,children:(0,d.jsx)("button",{className:"btn btn-outline-dark form-control",type:"submit",children:"Submit form"})})]})},u=e=>{const{batchSlug:s,chageSteps:t,setsemSlug:u}=e,[h,m]=(0,r.useState)([]),{state:x,dispatch:j}=(0,r.useContext)(n.y),{accessToken:g,refreshToken:b,semesters:p}=x;(0,o.s0)();return(0,r.useEffect)((()=>{(async()=>{const e=a.Z.create();let t={"Content-Type":"application/json","ngrok-skip-browser-warning":!0},r=await(0,i.J)(e,"/manage/get_semesters","get",t,null,{batch_slug:s});if(0==r.error){let e=r.response;m(e.data.data),console.log(e.data.data),console.log(h)}else console.log(r.error)})()}),[]),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(l.rb,{children:(0,d.jsx)(l.b7,{xs:12,children:(0,d.jsxs)(l.xH,{className:"mb-3",children:[(0,d.jsx)(l.bn,{children:(0,d.jsx)("strong",{children:"Semesters"})}),(0,d.jsx)(l.sl,{children:c(0,m,s)})]})})}),(0,d.jsx)(l.rb,{children:(0,d.jsx)(l.b7,{xs:!0,children:(0,d.jsxs)(l.xH,{className:"mb-4",children:[(0,d.jsx)(l.bn,{children:(0,d.jsx)("strong",{children:"Semester History"})}),(0,d.jsx)(l.sl,{children:(0,d.jsxs)(l.Sx,{align:"middle",className:"mb-0 border",hover:!0,responsive:!0,children:[(0,d.jsx)(l.V,{color:"light",children:(0,d.jsxs)(l.T6,{onClick:()=>{t("subject")},children:[(0,d.jsx)(l.is,{children:"Semester"}),(0,d.jsx)(l.is,{children:"Term Start Date"}),(0,d.jsx)(l.is,{children:"Term End Date"})]})}),(0,d.jsx)(l.NR,{children:h.map(((e,s)=>e.status?(0,d.jsxs)(l.T6,{onClick:()=>{t("subject"),u(e.slug)},children:[(0,d.jsx)(l.NN,{children:(0,d.jsx)("div",{children:e.no})}),(0,d.jsx)(l.NN,{children:(0,d.jsx)("div",{children:e.start_date})}),(0,d.jsx)(l.NN,{children:(0,d.jsx)("div",{children:e.end_date})})]},s):null))})]})})]})})})]})}}}]);
//# sourceMappingURL=3255.0a1dc457.chunk.js.map