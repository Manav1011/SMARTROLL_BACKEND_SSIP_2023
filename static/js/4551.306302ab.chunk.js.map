{"version":3,"file":"static/js/4551.306302ab.chunk.js","mappings":"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","sources":["views/student_controller/StudentDashboard.js"],"sourcesContent":["import React from 'react'\n\nimport { useState } from 'react'\nimport {\n  CCard,\n  CCardBody,\n  CCardHeader,\n  CCol,\n  CRow,\n  CToast,\n  CToastHeader,\n  CToastBody,\n  CAlert,\n} from '@coreui/react'\nimport axios from 'axios'\nimport { useEffect } from 'react'\nimport useAPI from 'src/global_function/useApi'\nimport moment from 'moment'\n\n\nconst StudentDashboard = () => {\n    const [StoredTokens, CallAPI] = useAPI()\n    const [TimeTables, setTimeTables] = useState(null)\n    const [attendance_status,set_attendance_status] = useState(false)\n    const load_teacher_timetable = async () => {\n      const headers = {\n        'Content-Type': 'application/json',\n        'ngrok-skip-browser-warning': true,\n      }\n      const axiosInstance = axios.create()\n      const response_obj = await CallAPI(\n        StoredTokens,\n        axiosInstance,\n        '/manage/get_timetable_for_student',\n        'get',\n        headers,\n        null,\n        null,\n      )\n      if (response_obj.error === false) {\n        const response = response_obj.response\n        console.log(response.data.data)\n        setTimeTables(response.data.data)\n      }\n    }\n\n    const mark_attendance =async (lecture_slug)=>{\n        const headers = {\n          'Content-Type':\"application/json\",\n          'ngrok-skip-browser-warning': true,\n        } \n        const axiosInstance = axios.create()\n        const response_obj = await CallAPI(StoredTokens,axiosInstance,\"/manage/session/mark_attendance_for_student/\",\"post\",headers,{\"lecture_slug\":lecture_slug},null)\n        if(response_obj.error === false)\n        {\n          const response = response_obj.response\n          if(response.data.data === true)\n          {\n            alert(\"your Attendance Marked successfully\")\n            set_attendance_status(!attendance_status)\n          }\n        }\n        else{\n          \n          alert(response_obj.errorMessage.message)\n        }\n    }\n\n\n\n    useEffect(() => {\n      load_teacher_timetable()\n    }, [])\n  \n    return (\n      <>\n        <CRow className=\"mb-3\">\n      <CCol>\n        {TimeTables ? (\n          TimeTables.map((timetable, index) => (\n            <CRow key={index} className=\"text-center mb-5 justify-content-center\">\n              <CCol className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n                <CCard className=\"\">\n                  <CCardHeader className=\"d-flex justify-content-center justify-content-sm-between flex-wrap\">\n                    <span>Semester - {timetable.division.semester.no}</span>\n                    <span>Division - {timetable.division.division_name}</span>\n                  </CCardHeader>\n                  <CCardBody>\n                    <>\n                      <CRow className=\"text-center justify-content-center\">\n                        <CCol className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n                          <div className=\"\">\n                            <div>\n                              <CRow className=\"flex-column\" style={{ padding: '0' }}>\n                                {timetable ? (\n                                  timetable.schedules.map((item, index) => (\n                                    <>\n                                      <CCol\n                                        className=\"d-flex align-items-center flex-column\"\n                                        key={index}\n                                      >\n                                        <CAlert\n                                          className=\"m-0 rounded-0 w-100 p-2 d-flex justify-content-between align-items-center\"\n                                          color=\"primary\"\n                                          visible={true}\n                                          \n                                        >\n                                          {item.day.toUpperCase()}\n                                        </CAlert>\n                                        <div className=\"w-100  rounded-0 border-0\">\n                                          <div className=\"\" style={{paddingBottom:\"0px\"}}>\n                                            <div className=\"justify-content-center w-100\">\n                                              {item.lectures.length > 0 ? (\n                                                item.lectures.map((lecture, index) => (\n                                                  <CToast\n                                                    key={index}\n                                                    autohide={false}\n                                                    visible={true}\n                                                    className=\"mt-2 w-100\"\n                                                    \n                                                  >\n                                                    <CToastHeader className=\"d-flex flex-wrap justify-content-sm-between justify-content-center\">\n                                                      <div className=\"fw-bold mx-2 my-2\">\n                                                        {lecture.subject.subject_name.charAt(0).toUpperCase() + lecture.subject.subject_name.slice(1)}\n                                                      </div>\n                                                        <small className='mx-2 my-2'>\n                                                          {lecture.type.toUpperCase()}\n                                                        </small>\n                                                      <small className='mx-2 my-2'>\n                                                      {moment(lecture.start_time.slice(0,5), 'HH:mm').format('h:mm A')} |{' '}\n                                                      {moment(lecture.end_time.slice(0,5), 'HH:mm').format('h:mm A')}\n                                                      </small>\n                                                    </CToastHeader>\n                                                    <CToastBody className=\"d-flex flex-row flex-wrap justify-content-center justify-content-md-between\">\n                                                      <CRow className='w-100 align-items-center'>\n                                                        <CCol className='text-sm-start col-12 col-sm-4 col-lg-4 col-md-4'>\n                                                          \n                                                        Prof - {lecture.teacher.charAt(0).toUpperCase() + lecture.teacher.slice(1)}{' '}\n                                                         \n                                                        </CCol>\n                                                        <CCol className=' text-sm-end col-12 col-sm-4 col-lg-4 col-md-4'>\n                                                        <div className='w-100 text-center'>\n                                                        {' '}\n                                                        {lecture.batches.map((batch, index) => (\n                                                          <span key={index}>\n                                                            {batch.batch_name.toUpperCase()}\n                                                            {index < lecture.batches.length - 1 &&\n                                                              ', '}\n                                                          </span>\n                                                        ))}{' '}\n                                                      </div>\n                                                        </CCol>\n                                                        <CCol className='text-sm-end col-12 col-sm-4 col-lg-4 col-md-4'>\n                                                        \n                                                        {lecture.classroom.class_name.charAt(0).toUpperCase() + lecture.classroom.class_name.slice(1)}\n                                                      {' '}\n                                                        </CCol>\n                                                      </CRow>\n                                                        <div className='d-flex flex-wrap w-100'>\n                                                      <div className='w-100 mt-3'>\n                                                      {\n                                                            (lecture.session.active === \"pre\" ||  lecture.session.active === \"ongoing\") && <button className='btn btn-outline-primary w-100 mt-3' value={lecture.slug} onClick={(e)=> mark_attendance(e.target.value)} disabled={attendance_status}>Mark Your Attendance</button>\n                                                            \n                                                          }\n                                                           {\n                                                            lecture.session.active === \"post\" && <button className='btn btn-outline-secondary w-100 mt-3' disabled={true}>Session Ended</button>\n                                                            \n                                                          }\n                                                        </div>\n                                                      </div>\n                                                      \n                                                      \n                                                      <div>\n                                                        <hr></hr>\n                                                      </div>\n                                                      \n                                                    </CToastBody>\n                                                  </CToast>\n                                                ))\n                                              ) : (\n                                                <CToast autohide={false} visible={true}>\n                                                  <CToastBody>No Lectures Found</CToastBody>\n                                                </CToast>\n                                              )}\n                                            </div>\n                                          </div>\n                                        </div>\n                                      </CCol>\n                                    </>\n                                  ))\n                                ) : (\n                                  <CToast autohide={false} visible={true}>\n                                                  <CToastBody>No Schedules Found</CToastBody>\n                                                </CToast>\n                                )}\n                              </CRow>\n                            </div>\n                          </div>\n                        </CCol>\n                      </CRow>\n                    </>\n                  </CCardBody>\n                </CCard>\n              </CCol>\n            </CRow>\n          ))\n        ) : (\n          <CToast animation={false} autohide={false} visible={true} className=\"mx-auto w-100\">\n            <CToastHeader className=\"bg-dark d-flex justify-content-center\">\n              <img\n                src=\"/static/media/smartroll_logo.a3c3e21d0b4a56919e74.png\"\n                width={100}\n                alt=\"SmartRoll Logo\"\n              />\n            </CToastHeader>\n            <CToastBody>\n              <p>No Timetable Found</p>\n            </CToastBody>\n          </CToast>\n        )}\n        </CCol>\n      \n      </CRow>\n      </>\n    )\n}\n\nexport default StudentDashboard"],"names":["StudentDashboard","StoredTokens","CallAPI","useAPI","TimeTables","setTimeTables","useState","attendance_status","set_attendance_status","useEffect","async","axiosInstance","axios","create","response_obj","error","response","console","log","data","load_teacher_timetable","_jsx","_Fragment","children","CRow","className","CCol","map","timetable","index","_jsxs","CCard","CCardHeader","division","semester","no","division_name","CCardBody","style","padding","schedules","item","CAlert","color","visible","day","toUpperCase","paddingBottom","lectures","length","lecture","CToast","autohide","CToastHeader","subject","subject_name","charAt","slice","type","moment","start_time","format","end_time","CToastBody","teacher","batches","batch","batch_name","classroom","class_name","session","active","value","slug","onClick","e","lecture_slug","alert","errorMessage","message","mark_attendance","target","disabled","animation","src","width","alt"],"sourceRoot":""}