"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[286],{2286:(e,s,a)=>{a.r(s),a.d(s,{default:()=>o});var t=a(3946),r=a(6213),n=a(5043),l=a(9426),i=a(579);const o=()=>{const[e,s]=(0,n.useState)(null),[a,o]=(0,n.useState)(!1),[c,d]=(0,n.useState)(null),[u,m]=(0,n.useState)(null),[p,g]=(0,n.useState)(null),[h,x]=(0,n.useState)(null),[j,_]=(0,n.useState)([]),[f,v]=(0,l.A)();return(0,n.useEffect)((()=>{(async()=>{const e=r.A.create();let s={"Content-Typle":"application/json","ngrok-skip-browser-warning":!0},a=await v(f,e,"/manage/get_terms","get",s);if(!1===a.error){const e=a.response;_(e.data.data)}else alert(a.errorMessage.message)})()}),[]),(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(t.sK,{className:"mb-3",children:(0,i.jsxs)(t.UF,{children:[j&&(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(t.E$,{className:"mb-3",children:[(0,i.jsx)(t.V0,{children:"Term"}),(0,i.jsx)(t.W6,{children:(0,i.jsxs)(t.MT,{"aria-label":"Default select example",onChange:e=>{(async e=>{if(e){const a={"Content-Type":"application/json","ngrok-skip-browser-warning":!0},t=r.A.create();let n="/manage/get_semesters",l="get",i=a,o=await v(f,t,n,l,i,null,{term_slug:e});if(0==o.error){let e=o.response;s(e.data.data)}else alert(o.errorMessage.message)}else alert("Please select a valid term")})(e.target.value)},children:[(0,i.jsx)("option",{value:"",children:"Select Term"}),j.map(((e,s)=>(0,i.jsxs)("option",{value:e.slug,children:["term: ",e.start_year," : ",e.end_year]},s)))]})})]})}),e&&(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(t.E$,{className:"mb-3",children:[(0,i.jsx)(t.V0,{children:"Semester"}),(0,i.jsx)(t.W6,{children:(0,i.jsxs)(t.MT,{"aria-label":"Default select example",onChange:e=>{(async e=>{if(" "!=e){const s={"Content-Type":"application/json","ngrok-skip-browser-warning":!0},a=r.A.create();let t="/manage/get_divisions",n="get",l=await v(f,a,t,n,s,null,{semester_slug:e});if(!1===l.error){const e=l.response;d(e.data.data)}else alert(l.errorMessage.message)}else alert("please select semester")})(e.target.value)},children:[(0,i.jsx)("option",{value:"",children:"Select Semester"}),e.map(((e,s)=>(0,i.jsxs)("option",{value:e.slug,children:["Semester - ",e.no]},s)))]})})]})}),c&&(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(t.E$,{children:[(0,i.jsx)(t.V0,{children:"Division"}),(0,i.jsx)(t.W6,{children:(0,i.jsxs)(t.MT,{"aria-label":"Default select example",onChange:e=>{o(!0),x(e.target.value)},children:[(0,i.jsx)("option",{value:"",children:"Select division"}),c.map(((e,s)=>(0,i.jsxs)("option",{value:e.slug,children:["Division - ",e.division_name]},s)))]})})]})}),a&&(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(t.E$,{className:"mt-3",children:[(0,i.jsx)(t.V0,{children:"upload File"}),(0,i.jsxs)(t.W6,{children:[(0,i.jsxs)(t.UF,{xs:12,children:[(0,i.jsx)(t.A6,{htmlFor:"validationCustom01",children:"Enter Sheet name"}),(0,i.jsx)(t.OG,{type:"text",id:"validationCustom01",required:!0,onChange:e=>{g(e.target.value)}})]}),(0,i.jsxs)(t.UF,{xs:12,className:"mt-2",children:[(0,i.jsx)(t.A6,{htmlFor:"validationCustom01",children:"upload excel file"}),(0,i.jsx)(t.OG,{type:"file",id:"validationCustom01",required:!0,onChange:e=>m(e.target.files[0])})]}),(0,i.jsx)(t.UF,{xs:12,className:"mt-3",children:(0,i.jsx)("button",{className:"btn btn-outline-dark form-control",type:"button",onClick:()=>{(async()=>{const e=new FormData;e.append("students.xlsc",u,u.name),e.append("sheet_name",p),e.append("division_slug",h);const s=r.A.create(),a=await v(f,s,"/manage/upload_students_data/","post",{"Content-Type":"multipart/form-data","ngrok-skip-browser-warning":!0},e,null);if(!1===a.error){const e=a.response;e.data.data.register_count>0?alert("".concat(e.data.data.register_count," student added successfully")):alert("error count : ".concat(e.data.data.error_count))}else alert(a.errorMessage.message)})()},children:"Submit form"})})]})]})})]})})})}}}]);
//# sourceMappingURL=286.333dff95.chunk.js.map