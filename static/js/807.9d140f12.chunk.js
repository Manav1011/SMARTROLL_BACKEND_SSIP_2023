"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[807],{6807:(e,r,t)=>{t.r(r),t.d(r,{default:()=>p});var o=t(5043),n=t(3946),i=t(3354),l=t(3727),s=t(7177),a=(t(3023),t(4858)),c=t(6213),d=t(9426),u=(t(5718),t(579));const p=()=>{const{handleSubmit:e,control:r,setValue:t,watch:p,register:v,formState:{errors:f}}=(0,a.mN)(),[h,m]=(0,d.A)(),[g,j]=(0,o.useState)([]),[x,b]=(0,o.useState)(""),[w,y]=(0,o.useState)(""),[_,k]=(0,o.useState)([]),[M,S]=(0,o.useState)({});(0,o.useEffect)((()=>{console.log(w),console.log(x)}),[x,w]);return(0,o.useEffect)((()=>{(async()=>{try{const r={"Content-Type":"application/json","ngrok-skip-browser-warning":!0},t=c.A.create(),o=await m(h,t,"/manage/get_subjects_of_student","get",r,null);if(!1===o.error){var e;const r=o.response,t=null===r||void 0===r||null===(e=r.data)||void 0===e?void 0:e.data;j(t),console.log(t)}}catch(r){console.log(r)}})()}),[]),(0,o.useEffect)((()=>{(async()=>{if(x)try{const r={"Content-Type":"application/json","ngrok-skip-browser-warning":!0},t=c.A.create(),o=await m(h,t,"/manage/additional_features/get_study_material_for_students/".concat(x),"get",r,null,null);if(!1===o.error){var e;const r=o.response,t=null===r||void 0===r||null===(e=r.data)||void 0===e?void 0:e.data;k(t),console.log(t)}}catch(r){console.log(r)}})()}),[x]),(0,u.jsx)("div",{children:(0,u.jsx)(n.Xu,{className:"rounded-lg shadow-2xl shadow-gray-800/30",children:(0,u.jsxs)(n.E$,{className:"shadow-lg rounded-lg border border-gray-200",children:[(0,u.jsx)(n.V0,{className:"bg-black/40 text-white text-2xl py-4 rounded-t-lg",children:"View Materials"}),(0,u.jsx)(n.W6,{className:"p-6",children:(0,u.jsx)("form",{className:"space-y-4",autoComplete:"off",children:(0,u.jsxs)("div",{className:"mb-4",children:[(0,u.jsx)("label",{className:"form-label text-lg font-semibold",children:"Select Subject"}),(0,u.jsxs)("select",{...v("subject",{required:"Subject is required"}),className:"form-control shadow-sm focus:ring focus:ring-yellow-500 focus:ring-opacity-50 w-full border-gray-300 rounded-md cursor-pointer",onChange:e=>{const r=e.target.value,t=e.target.options[e.target.selectedIndex].text;b(r),y(t)},children:[(0,u.jsx)("option",{value:"",selected:!0,disabled:!0,hidden:!0,className:"text-gray-200 ",children:"Choose Subject"}),g.map(((e,r)=>(0,u.jsx)("option",{value:e.slug,className:"cursor-pointer  ",children:e.subject_name},r)))]}),f.subject&&(0,u.jsx)("p",{className:"text-red-500 mt-1 text-sm",children:f.subject.message})]})})}),(0,u.jsx)(n.UF,{xs:!0,children:x&&(0,u.jsx)(n.E$,{className:"mb-4 border-none",children:(0,u.jsx)(n.W6,{className:"transition ease-in-out duration-150",children:(0,u.jsxs)(n._v,{align:"middle",className:"mb-0 border text-center",hover:!0,responsive:!0,children:[(0,u.jsx)(n.wV,{color:"light",children:(0,u.jsxs)(n.YI,{children:[(0,u.jsx)(n.$s,{children:"Sr.No"}),(0,u.jsx)(n.$s,{children:"Title"}),(0,u.jsx)(n.$s,{children:"Link"})]})}),(0,u.jsxs)(n.jS,{children:[_.length>0?_.length>0&&_.map(((e,r)=>{var t;return(0,u.jsxs)(n.YI,{"v-for":"item in tableItems",children:[(0,u.jsx)(n.cC,{children:(0,u.jsx)("div",{className:"text-center",children:r+1})}),(0,u.jsx)(n.cC,{children:(0,u.jsx)("div",{className:"text-center",children:e.title})}),(0,u.jsx)(n.cC,{children:(0,u.jsxs)("div",{className:"text-center",children:[(0,u.jsx)(n.V0,{className:"cursor-pointer rounded-lg border",onClick:()=>(e=>{S((r=>({...r,[e]:!r[e]})))})(r),children:(0,u.jsxs)("div",{className:"d-flex flex-wrap justify-between",children:[(0,u.jsx)("div",{children:(0,u.jsx)("strong",{children:"Links"})}),M[r]?(0,u.jsx)(i.lB,{icon:l.H,size:"xl",className:"hover:scale-125 ease-in-out transition-all duration-150 cursor-pointer"}):(0,u.jsx)(i.lB,{icon:s.t,size:"xl",className:"hover:scale-125 ease-in-out transition-all duration-150 cursor-pointer"})]})}),M[r]&&(0,u.jsx)("div",{style:{overflowX:"auto",whiteSpace:"nowrap"},children:(0,u.jsx)(n._v,{align:"middle",className:"mb-0 border text-center",hover:!0,responsive:!0,children:(0,u.jsx)(n.jS,{className:"w-20",children:null===e||void 0===e||null===(t=e.links)||void 0===t?void 0:t.map(((e,r)=>{var t,o;return(0,u.jsx)(n.YI,{children:(0,u.jsx)(n.cC,{children:(0,u.jsx)("a",{href:e.link,target:"_blank",className:"text-primary",rel:"noopener noreferrer",children:(null===e||void 0===e||null===(t=e.filename)||void 0===t?void 0:t.length)>10?(null===e||void 0===e||null===(o=e.filename)||void 0===o?void 0:o.slice(0,10))+"...":null===e||void 0===e?void 0:e.filename})})},r)}))})})})]})})]},r)})):(0,u.jsx)(n.cC,{colSpan:"3",children:(0,u.jsxs)("div",{className:"text-center",children:["No Materials found for"," ",(0,u.jsx)("span",{className:"text-red-400 font-bold",children:w})]})}),(0,u.jsx)(n.YI,{"v-for":"item in tableItems"})]})]})})})})]})})})}},7177:(e,r,t)=>{t.d(r,{t:()=>o});var o=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M256,16C123.452,16,16,123.452,16,256S123.452,496,256,496,496,388.548,496,256,388.548,16,256,16ZM403.078,403.078a207.253,207.253,0,1,1,44.589-66.125A207.332,207.332,0,0,1,403.078,403.078Z' class='ci-primary'/><polygon fill='var(--ci-primary-color, currentColor)' points='272.112 314.481 272.112 128 240.112 128 240.112 314.481 165.059 239.429 142.432 262.056 256.112 375.736 369.793 262.056 347.166 239.429 272.112 314.481' class='ci-primary'/>"]},3727:(e,r,t)=>{t.d(r,{H:()=>o});var o=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M256,16C123.452,16,16,123.452,16,256S123.452,496,256,496,496,388.548,496,256,388.548,16,256,16ZM403.078,403.078a207.253,207.253,0,1,1,44.589-66.125A207.332,207.332,0,0,1,403.078,403.078Z' class='ci-primary'/><polygon fill='var(--ci-primary-color, currentColor)' points='142.319 241.027 164.947 263.654 240 188.602 240 376 272 376 272 188.602 347.053 263.654 369.681 241.027 256 127.347 142.319 241.027' class='ci-primary'/>"]},5718:function(e,r,t){var o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var r,t=1,o=arguments.length;t<o;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n]);return e},o.apply(this,arguments)},n=this&&this.__spreadArray||function(e,r,t){if(t||2===arguments.length)for(var o,n=0,i=r.length;n<i;n++)!o&&n in r||(o||(o=Array.prototype.slice.call(r,0,n)),o[n]=r[n]);return e.concat(o||Array.prototype.slice.call(r))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});var l=t(5043),s=t(8212),a=i(t(9267));r.default=function(){var e,r=["https://www.googleapis.com/auth/drive.readonly"],t=(0,a.default)("https://apis.google.com/js/api.js"),i=t[0],c=t[1],d=(0,a.default)("https://accounts.google.com/gsi/client"),u=d[0],p=d[1],v=(0,l.useState)(!1),f=v[0],h=v[1],m=(0,l.useState)(!1),g=m[0],j=m[1],x=(0,l.useState)(!1),b=(x[0],x[1],(0,l.useState)(s.defaultConfiguration)),w=b[0],y=b[1],_=(0,l.useState)(),k=_[0],M=_[1];(0,l.useEffect)((function(){!i||c||!u||p||f||S()}),[i,c,u,p,f]),(0,l.useEffect)((function(){g&&w.token&&i&&!c&&u&&!p&&f&&(C(w),j(!1))}),[g,w.token,i,c,u,p,f]);var S=function(){window.gapi.load("auth"),window.gapi.load("picker",{callback:N})},N=function(){h(!0)},C=function(r){var t=r.token,o=r.appId,n=void 0===o?"":o,i=r.supportDrives,l=void 0!==i&&i,s=r.developerKey,a=r.viewId,c=void 0===a?"DOCS":a,d=r.disabled,u=r.multiselect,p=r.setOrigin,v=r.showUploadView,f=void 0!==v&&v,h=r.showUploadFolders,m=r.setParentFolder,g=void 0===m?"":m,j=r.viewMimeTypes,x=r.customViews,b=r.locale,w=void 0===b?"en":b,y=r.setIncludeFolders,_=r.setSelectFolderEnabled,k=r.disableDefaultView,M=void 0!==k&&k,S=r.callbackFunction;if(d)return!1;var N=new google.picker.DocsView(google.picker.ViewId[c]);j&&N.setMimeTypes(j),y&&N.setIncludeFolders(!0),_&&N.setSelectFolderEnabled(!0);var C=new google.picker.DocsUploadView;return j&&C.setMimeTypes(j),h&&C.setIncludeFolders(!0),g&&C.setParent(g),g&&N.setParent(g),e=(new google.picker.PickerBuilder).setAppId(n).setOAuthToken(t).setDeveloperKey(s).setLocale(w).setCallback(S),p&&e.setOrigin(p),M||e.addView(N),x&&x.map((function(r){return e.addView(r)})),u&&e.enableFeature(google.picker.Feature.MULTISELECT_ENABLED),f&&e.addView(C),l&&e.enableFeature(google.picker.Feature.SUPPORT_DRIVES),e.build().setVisible(!0),!0};return[function(e){(y(e),e.token)||google.accounts.oauth2.initTokenClient({client_id:e.clientId,scope:(e.customScopes?n(n([],r,!0),e.customScopes,!0):r).join(" "),callback:function(r){M(r),C(o(o({},e),{token:r.access_token}))}}).requestAccessToken();if(e.token&&i&&!c&&f)return C(e)},k]}},8212:(e,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.defaultConfiguration=void 0,r.defaultConfiguration={clientId:"",developerKey:"",viewId:"DOCS",callbackFunction:function(){return null}}},9267:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0});var o=t(5043),n={queue:{},injectorMap:{},scriptMap:{}};r.default=function(e){var r=(0,o.useState)({loaded:!1,error:!1}),t=r[0],i=r[1];return(0,o.useEffect)((function(){var r,t,o,l,s;if((null===(r=n.injectorMap)||void 0===r?void 0:r[e])||(n.injectorMap[e]="init"),"loaded"!==n.injectorMap[e]){if("error"!==n.injectorMap[e]){var a=function(r){var t,o,i,l;r&&console.log("error loading the script"),null===(o=null===(t=n.queue)||void 0===t?void 0:t[e])||void 0===o||o.forEach((function(e){return e(r)})),r&&n.scriptMap[e]?(null===(l=null===(i=n.scriptMap)||void 0===i?void 0:i[e])||void 0===l||l.remove(),n.injectorMap[e]="error"):n.injectorMap[e]="loaded",delete n.scriptMap[e]},c=function(e){i({loaded:!0,error:e})};return(null===(t=n.scriptMap)||void 0===t?void 0:t[e])||(n.scriptMap[e]=document.createElement("script"),n.scriptMap[e]&&(n.scriptMap[e].src=e,n.scriptMap[e].async=!0,document.body.append(n.scriptMap[e]),n.scriptMap[e].addEventListener("load",(function(){return a(!1)})),n.scriptMap[e].addEventListener("error",(function(){return a(!0)})),n.injectorMap[e]="loading")),(null===(o=n.queue)||void 0===o?void 0:o[e])?null===(s=null===(l=n.queue)||void 0===l?void 0:l[e])||void 0===s||s.push(c):n.queue[e]=[c],function(){var r,t;n.scriptMap[e]&&(null===(r=n.scriptMap[e])||void 0===r||r.removeEventListener("load",(function(){return a(!0)})),null===(t=n.scriptMap[e])||void 0===t||t.removeEventListener("error",(function(){return a(!0)})))}}i({loaded:!0,error:!0})}else i({loaded:!0,error:!1})}),[e]),[t.loaded,t.error]}}}]);
//# sourceMappingURL=807.9d140f12.chunk.js.map