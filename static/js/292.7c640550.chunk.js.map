{"version":3,"file":"static/js/292.7c640550.chunk.js","mappings":"oLAAA,MAOA,EAPgB,oE,oGCChB,SAAgB,mBAAqB,kCAAkC,aAAe,4BAA4B,MAAQ,qBAAqB,OAAS,sBAAsB,cAAgB,6BAA6B,WAAa,0BAA0B,oBAAsB,mCAAmC,KAAO,oBAAoB,YAAc,2BAA2B,uBAAyB,sCAAsC,kBAAoB,iCAAiC,gBAAkB,+BAA+B,QAAU,uBAAuB,cAAgB,6BAA6B,MAAQ,qBAAqB,OAAS,sBAAsB,SAAW,wBAAwB,cAAgB,6BAA6B,mBAAqB,kCAAkC,IAAM,mBAAmB,UAAY,yBAAyB,OAAS,sBAAsB,MAAQ,qBAAqB,eAAiB,8BAA8B,WAAa,0BAA0B,OAAS,sBAAsB,OAAS,sBAAsB,aAAe,4BAA4B,WAAa,0BAA0B,QAAU,uBAAuB,KAAO,oBAAoB,OAAS,sBAAsB,OAAS,sBAAsB,MAAQ,qBAAqB,WAAa,2B,aCW1yC,SAASA,IAGnB,MAAMC,GAAWC,EAAAA,EAAAA,OAGXC,EAAOC,IAAYC,EAAAA,EAAAA,UAAS,KAC5BC,EAAUC,IAAeF,EAAAA,EAAAA,UAAS,KAElC,MAAEG,EAAOC,SAAUC,IAAgBC,EAAAA,EAAAA,YAAWC,EAAAA,IAC9C,aAAEC,EAAY,OAAGC,GAAWN,EAoDrC,OAREO,EAAAA,EAAAA,YAAU,KACLD,IACDb,EAAS,QACTS,EAAY,CAAEM,KAAM,UAAWC,SAAS,IACxCC,QAAQC,IAAIL,GACd,GACA,CAACA,KAIHM,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAOC,MAAMC,SAAA,EAC3BC,EAAAA,EAAAA,KAAA,OAAKJ,UAAWC,EAAOI,aAAaF,UAClCC,EAAAA,EAAAA,KAAA,OACEJ,UAAWC,EAAOK,mBAClBC,IAAI,GACJC,IAAI,wCAGRJ,EAAAA,EAAAA,KAAA,OAAKJ,UAAWC,EAAOQ,SAG7BV,EAAAA,EAAAA,MAAA,QAAMW,SA9DoBC,UAEpBC,EAAEC,iBAIFC,EAAAA,EAAMC,KAAK,GAADC,OAAIC,EAAAA,EAAQ,oBAAmB,CACvC,MAAUnC,EACT,SAAWG,GACZ,CAACiC,OANY,CACb,8BAA6B,KAM9BC,MAAMC,IACL/B,EAAY,CAAEM,KAAM,eAAgBC,QAASwB,EAASC,KAAKC,SAC3DjC,EAAY,CAAEM,KAAM,gBAAiBC,QAASwB,EAASC,KAAKE,UAE5DC,aAAaC,QAAQ,cAAcL,EAASC,KAAKC,QACjDE,aAAaC,QAAQ,eAAeL,EAASC,KAAKE,SAClD3C,EAAS,IAAI,IAEd8C,OAAOC,IACN9B,QAAQC,IAAI6B,EAAMC,MACA,gBAAfD,EAAMC,KACPvC,EAAY,CAAEM,KAAM,UAAWC,SAAS,IAGX,MAA1B+B,EAAMP,SAASS,SAChBhC,QAAQC,IAAI6B,EAAMP,UAClBU,MAAMH,EAAMP,SAASC,KAAKU,QAS9B,GAEA,EAyBsB5B,SAAA,EAE9BC,EAAAA,EAAAA,KAAA,OAAKJ,UAAWC,EAAO+B,OAAO7B,UACtBJ,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAOnB,MAAMqB,SAAA,EAC3BC,EAAAA,EAAAA,KAAA,OAAKJ,UAAWC,EAAOhB,SAASkB,SAAC,WACjCJ,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAOgC,QAAQ9B,SAAA,EAC7BC,EAAAA,EAAAA,KAAA,OAAKJ,UAAWC,EAAOiC,WAAY3B,IAAI,GAAGC,IAAI,wBAC9CJ,EAAAA,EAAAA,KAAA,OAAKJ,UAAWC,EAAOkC,oBAAoBhC,UACzCC,EAAAA,EAAAA,KAAA,OAAKJ,UAAWC,EAAOmC,KAAKjC,UAC1BC,EAAAA,EAAAA,KAAA,OACEJ,UAAWC,EAAOoC,cAClB9B,IAAI,GACJC,IAAI,+BAIVJ,EAAAA,EAAAA,KAAA,OAAKJ,UAAWC,EAAOqC,YAAYnC,SAAC,iBACpCC,EAAAA,EAAAA,KAAA,OAAKJ,UAAWC,EAAOsC,kBAAkBpC,UACvCC,EAAAA,EAAAA,KAAA,OACEJ,UAAWC,EAAOuC,uBAClBjC,IAAI,GACJC,IAAI,sCAGRT,EAAAA,EAAAA,MAAA,OAAAI,SAAA,CAAK,KAACC,EAAAA,EAAAA,KAAA,SAAOT,KAAK,OAAO8C,GAAG,YAAWC,KAAK,QAAQC,SAAU/B,GAAK7B,EAAS6B,EAAEgC,OAAOC,OAAQ7C,UAAW,CAACC,EAAO6C,iBAAkBR,YAAY,kCAMpJlC,EAAAA,EAAAA,KAAA,OAAKJ,UAAWC,EAAO8C,OAAO5C,UAC5BJ,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAO+C,MAAM7C,SAAA,EAC3BC,EAAAA,EAAAA,KAAA,OAAKJ,UAAWC,EAAOhB,SAASkB,SAAC,cACjCJ,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAOgC,QAAQ9B,SAAA,EAC7BC,EAAAA,EAAAA,KAAA,OACEJ,UAAWC,EAAOgD,cAClB1C,IAAI,GACJC,IAAI,+BAENJ,EAAAA,EAAAA,KAAA,OAAKJ,UAAWC,EAAOkC,oBAAoBhC,UACzCC,EAAAA,EAAAA,KAAA,OAAKJ,UAAWC,EAAOmC,KAAKjC,UAC1BC,EAAAA,EAAAA,KAAA,OACEJ,UAAWC,EAAOoC,cAClB9B,IAAI,GACJC,IAAI,+BAIVJ,EAAAA,EAAAA,KAAA,OAAKJ,UAAWC,EAAOiD,IAAI/C,UAACC,EAAAA,EAAAA,KAAA,SAAOT,KAAK,WAAWgD,SAAU/B,GAAK1B,EAAY0B,EAAEgC,OAAOC,OAAQ7C,UAAWC,EAAO6C,gBAAiBR,YAAY,WAAWI,KAAK,wBAKpKtC,EAAAA,EAAAA,KAAA,OAAKJ,UAAWC,EAAOkD,OAAOhD,UAC5BC,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,QAAOG,UAGlBC,EAAAA,EAAAA,KAAA,UAAQT,KAAK,SAASK,UAAU,uCAAsCG,SAAC,mBAUnF,C","sources":["base_url.js","webpack://@coreui/coreui-free-react-admin-template/./src/views/pages/login/Login.module.css?3f3b","views/pages/login/Login.js"],"sourcesContent":["const base_url= \"https://4556-2405-201-2024-b862-dcec-69bc-5090-a563.ngrok-free.app\";\n// const token = localStorage.getItem('accessToken')\n// const header = {\n//     \"Content-Type\":\"application/json\",\n//     \"Authorization\": `Bearer ${token}`,\n//     'ngrok-skip-browser-warning':true\n//   }\nexport default base_url;","// extracted by mini-css-extract-plugin\nexport default {\"mobileLoginRafiki1\":\"Login_mobileLoginRafiki1__ACvch\",\"illustration\":\"Login_illustration__bykKZ\",\"frame\":\"Login_frame__K3lt8\",\"login1\":\"Login_login1__X8tJ3\",\"starsharpIcon\":\"Login_starsharpIcon__jv2s0\",\"vectorIcon\":\"Login_vectorIcon__v0YBN\",\"adornStartContainer\":\"Login_adornStartContainer__L+YkP\",\"icon\":\"Login_icon__btlch\",\"placeholder\":\"Login_placeholder__VPmX5\",\"removeredeyefilledIcon\":\"Login_removeredeyefilledIcon__WhP8g\",\"adornEndContainer\":\"Login_adornEndContainer__eAb8+\",\"examplegmailcom\":\"Login_examplegmailcom__Ca1dL\",\"content\":\"Login_content__3qrgB\",\"underlineIcon\":\"Login_underlineIcon__M7-wG\",\"email\":\"Login_email__ntn-Z\",\"frame1\":\"Login_frame1__QZp9Y\",\"password\":\"Login_password__3Tnga\",\"iconlockround\":\"Login_iconlockround__1V4Bl\",\"adornEndContainer1\":\"Login_adornEndContainer1__m4lY9\",\"div\":\"Login_div__-JeRG\",\"underline\":\"Login_underline__uaLTs\",\"frame2\":\"Login_frame2__1JDox\",\"input\":\"Login_input__yKTtl\",\"forgotPassword\":\"Login_forgotPassword__s90Xn\",\"forgotPass\":\"Login_forgotPass__nLvQi\",\"frame3\":\"Login_frame3__+OXHU\",\"frame4\":\"Login_frame4__BkjvN\",\"googleSignIn\":\"Login_googleSignIn__MyTTe\",\"maskedIcon\":\"Login_maskedIcon__iKnBD\",\"button1\":\"Login_button1__CkeDI\",\"base\":\"Login_base__L9lWQ\",\"button\":\"Login_button__2-mLp\",\"frame5\":\"Login_frame5__L1DPm\",\"login\":\"Login_login__apnC7\",\"inputstyle\":\"Login_inputstyle__7h7MN\"};","import React, { useEffect } from 'react';\nimport Axios from 'axios';\nimport { useNavigate , redirect } from 'react-router-dom';\nimport { useState } from 'react';\nimport { useContext } from 'react'\nimport { Store } from 'src/views/forms/validation/store';\nimport base_url from 'src/base_url';\nimport styles from \"../login/Login.module.css\";\nimport expireToken from 'src/global_function/unauthorizedToken';\n\n\n\nexport default function Login(){\n      \n\n     const navigate = useNavigate();\n  \n  \n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n  \n     const { state, dispatch: ctxDispatch } = useContext(Store);\n     const { refreshToken , set404 } = state;\n    \n  \n    const submitHandler = async (e) => {\n\n      e.preventDefault();\n      const header = {\n        'ngrok-skip-browser-warning':true\n      }\n      Axios.post(`${base_url}/auth/api/login/`,{\n        \"email\":  email,\n         \"password\":password        \n      },{header})\n      .then((response)=>{\n        ctxDispatch({ type: 'ACCESS_TOKEN', payload: response.data.access});\n        ctxDispatch({ type: 'REFRESH_TOKEN', payload: response.data.refresh });\n        \n        localStorage.setItem('accessToken',response.data.access)\n        localStorage.setItem('refreshToken',response.data.refresh)\n        navigate('/')\n      })\n      .catch((error)=>{\n        console.log(error.code);\n        if(error.code === \"ERR_NETWORK\"){\n          ctxDispatch({ type: 'SET_404', payload: true });\n        }\n        else{\n          if(error.response.status === 401){\n            console.log(error.response)\n            alert(error.response.data.detail)\n            // expireToken(refreshToken,(error,result)=>{\n            //   if(error){\n            //     console.log(\"someting went worng\");\n            //   }\n            //   ctxDispatch({ type: 'USER_SIGNIN', payload: result });\n              \n            // })\n        }\n        }\n        \n      })\n\n    };\n  \n    useEffect(()=>{      \n      if(set404){\n        navigate(\"/404\")\n        ctxDispatch({ type: 'SET_404', payload: false });\n        console.log(set404);\n      }\n    },[set404])\n    \n  return (\n\n    <div className={styles.login}>\n      <div className={styles.illustration}>\n        <img\n          className={styles.mobileLoginRafiki1}\n          alt=\"\"\n          src=\"/static/images/mobile-loginrafiki-1.svg\"\n        />\n      </div>\n      <div className={styles.frame} />\n      {/* <div className={styles.login1}>Login</div> */}\n\n<form onSubmit={submitHandler}>\n\n<div className={styles.frame1}>\n        <div className={styles.email}>\n          <div className={styles.password}>Email</div>\n          <div className={styles.content}>\n            <img className={styles.vectorIcon} alt=\"\" src=\"/static/images/vector.svg\" />\n            <div className={styles.adornStartContainer}>\n              <div className={styles.icon}>\n                <img\n                  className={styles.starsharpIcon}\n                  alt=\"\"\n                  src=\"/static/images/starsharp.svg\"\n                />\n              </div>\n            </div>\n            <div className={styles.placeholder}>Placeholder</div>\n            <div className={styles.adornEndContainer}>\n              <img\n                className={styles.removeredeyefilledIcon}\n                alt=\"\"\n                src=\"/static/images/removeredeyefilled.svg\"\n              />\n            </div>\n            <div> <input type=\"text\" id=\"usermail \"name=\"email\" onChange={e => setEmail(e.target.value)} className={[styles.examplegmailcom]} placeholder=\"example@gmail.com\"></input></div>\n          </div>\n          \n        </div>\n      </div>\n   \n      <div className={styles.frame2}>\n        <div className={styles.input}>\n          <div className={styles.password}>Password</div>\n          <div className={styles.content}>\n            <img\n              className={styles.iconlockround}\n              alt=\"\"\n              src=\"/static/images/iconlockround.svg\"\n            />\n            <div className={styles.adornStartContainer}>\n              <div className={styles.icon}>\n                <img\n                  className={styles.starsharpIcon}\n                  alt=\"\"\n                  src=\"/static/images/starsharp.svg\"\n                />\n              </div>\n            </div>\n            <div className={styles.div}><input type=\"password\" onChange={e => setPassword(e.target.value)} className={styles.examplegmailcom} placeholder=\"Password\" name=\"password\"></input></div>\n          </div>\n        </div>\n      </div>\n      \n      <div className={styles.frame5}>\n        <div className='w-100'>\n          {/* <div className={styles.base}> */}\n            {/* <img className={styles.maskedIcon} alt=\"\" src=\"/static/images/masked-icon.svg\" /> */}\n            <button type='submit' className='form-control btn btn-outline-primary'>Login</button>\n            {/* <img className={styles.maskedIcon} alt=\"\" src=\"/static/images/masked-icon1.svg\" /> */}\n          {/* </div> */}\n        </div>\n      </div>\n\n</form>\n\n    </div>\n  );\n};"],"names":["Login","navigate","useNavigate","email","setEmail","useState","password","setPassword","state","dispatch","ctxDispatch","useContext","Store","refreshToken","set404","useEffect","type","payload","console","log","_jsxs","className","styles","login","children","_jsx","illustration","mobileLoginRafiki1","alt","src","frame","onSubmit","async","e","preventDefault","Axios","post","concat","base_url","header","then","response","data","access","refresh","localStorage","setItem","catch","error","code","status","alert","detail","frame1","content","vectorIcon","adornStartContainer","icon","starsharpIcon","placeholder","adornEndContainer","removeredeyefilledIcon","id","name","onChange","target","value","examplegmailcom","frame2","input","iconlockround","div","frame5"],"sourceRoot":""}