"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[9063],{2958:(e,a,t)=>{t.d(a,{Z:()=>s});const s="https://fd0c-2405-201-2024-b862-243e-7e43-8af7-e2ee.ngrok-free.app"},9160:(e,a,t)=>{t.d(a,{Z:()=>o});var s=t(5294),r=t(2958);const o=async(e,a)=>{s.Z.post("".concat(r.Z,"/auth/api/token/refresh/"),{refresh:e},{headers:{"ngrok-skip-browser-warning":!0}}).then((e=>{localStorage.setItem("accessToken",e.data.access),localStorage.setItem("refreshToken",e.data.refresh),a(!0)})).catch((e=>{console.log(e)}))}},8222:(e,a,t)=>{t.r(a),t.d(a,{default:()=>h});var s=t(2791),r=t(5294),o=t(7689),n=t(2585),l=t(2958),c=t(9160);const i=t.p+"static/media/remote-meet.7e638af53944f3764049.png";t(2443);var d=t(184);function h(){const e=(0,o.s0)(),[a,t]=(0,s.useState)(""),[h,p]=(0,s.useState)(""),{state:m,dispatch:u}=(0,s.useContext)(n.y),{refreshToken:f,set404:g}=m;return(0,s.useEffect)((()=>{g&&(e("/404"),u({type:"SET_404",payload:!1}),console.log(g))}),[g]),(0,d.jsxs)("div",{className:"d-flex justify-content-center align-items-center",style:{height:"100vh",flexWrap:"wrap"},children:[(0,d.jsx)("div",{className:"illustration-auth container",style:{flex:"1",minWidth:"300px"},children:(0,d.jsx)("img",{src:i,alt:"",style:{width:"100%",height:"auto"}})}),(0,d.jsxs)("div",{id:"login-form",style:{marginLeft:"2rem",marginRight:"2rem",flex:"1"},children:[(0,d.jsx)("h1",{children:"Login"}),(0,d.jsxs)("form",{onSubmit:async t=>{t.preventDefault();r.Z.post("".concat(l.Z,"/auth/api/login/"),{email:a,password:h},{header:{"ngrok-skip-browser-warning":!0}}).then((a=>{u({type:"ACCESS_TOKEN",payload:a.data.access}),u({type:"REFRESH_TOKEN",payload:a.data.refresh}),localStorage.setItem("accessToken",a.data.access),localStorage.setItem("refreshToken",a.data.refresh),e("/")})).catch((e=>{console.log(e.code),"ERR_NETWORK"===e.code?u({type:"SET_404",payload:!0}):401===e.response.status&&(0,c.Z)(refresh)}))},children:[(0,d.jsx)("label",{htmlFor:"username",children:"Email:"}),(0,d.jsx)("input",{type:"text",id:"usermail ",name:"email",onChange:e=>t(e.target.value),placeholder:"example@gmail.com"}),(0,d.jsx)("label",{htmlFor:"password",children:"Password:"}),(0,d.jsx)("input",{type:"password",onChange:e=>p(e.target.value),placeholder:"Password",name:"password"}),(0,d.jsx)("button",{className:"form-control btn btn-outline-dark",type:"submit",value:"Submit",children:"Login"})]})]})]})}}}]);
//# sourceMappingURL=9063.d475b84a.chunk.js.map