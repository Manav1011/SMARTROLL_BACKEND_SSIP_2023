"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[551],{4551:(e,s,a)=>{a.r(s),a.d(s,{default:()=>d});var t=a(2791),n=a(2937),l=a(5294),c=a(9792),r=a(2426),i=a.n(r),o=a(184);const d=()=>{const[e,s]=(0,c.Z)(),[a,r]=(0,t.useState)(null);return(0,t.useEffect)((()=>{(async()=>{const a=l.Z.create(),t=await s(e,a,"/manage/get_timetable_for_student","get",{"Content-Type":"application/json","ngrok-skip-browser-warning":!0},null,null);if(!1===t.error){const e=t.response;console.log(e.data.data),r(e.data.data)}})()}),[]),(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(n.rb,{className:"mb-3",children:(0,o.jsx)(n.b7,{children:a?a.map(((a,t)=>(0,o.jsx)(n.rb,{className:"text-center mb-5 justify-content-center",children:(0,o.jsx)(n.b7,{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12",children:(0,o.jsxs)(n.xH,{className:"",children:[(0,o.jsxs)(n.bn,{className:"d-flex justify-content-center justify-content-sm-between flex-wrap",children:[(0,o.jsxs)("span",{className:"mx-2",children:["Semester - ",a.division.semester.no]}),(0,o.jsxs)("span",{className:"mx-2",children:["Division - ",a.division.division_name]})]}),(0,o.jsx)(n.sl,{children:(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(n.rb,{className:"text-center justify-content-center",children:(0,o.jsx)(n.b7,{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12",children:(0,o.jsx)("div",{className:"",children:(0,o.jsx)("div",{children:(0,o.jsx)(n.rb,{className:"flex-column",style:{padding:"0"},children:a&&a.schedules.length>0?a.schedules.map(((a,t)=>(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(n.b7,{className:"d-flex align-items-center flex-column",children:[(0,o.jsx)(n.Gc,{className:"m-0 rounded-0 w-100 p-2 d-flex justify-content-between align-items-center",color:"primary",visible:!0,children:a.day.toUpperCase()}),(0,o.jsx)("div",{className:"w-100  rounded-0 border-0",children:(0,o.jsx)("div",{className:"",style:{paddingBottom:"0px"},children:(0,o.jsx)("div",{className:"justify-content-center w-100",children:a.lectures.length>0?a.lectures.map(((a,t)=>(0,o.jsxs)(n.oo,{autohide:!1,visible:!0,className:"mb-3 mt-3 w-100 ".concat(a.is_proxy?"border-red-700":""),children:[(0,o.jsxs)(n.xZ,{className:"d-flex flex-wrap justify-content-sm-between justify-content-center",children:[a.is_proxy?(0,o.jsxs)("div",{className:"w-100 fw-bold",children:[(0,o.jsxs)("small",{className:"mx-2 my-2",children:[a.is_proxy?"Proxied from ":"",a.link?a.link.from_lecture.subject.subject_name:""]}),(0,o.jsx)("hr",{className:"w-100 my-2"})]}):null,(0,o.jsx)("div",{className:"fw-bold mx-2 my-2",children:a.subject.subject_name.charAt(0).toUpperCase()+a.subject.subject_name.slice(1)}),(0,o.jsx)("small",{className:"mx-2 my-2",children:a.type.toUpperCase()}),(0,o.jsxs)("small",{className:"mx-2 my-2",children:[i()(a.start_time.slice(0,5),"HH:mm").format("h:mm A")," ","|"," ",i()(a.end_time.slice(0,5),"HH:mm").format("h:mm A")]})]}),(0,o.jsxs)(n.S3,{className:"d-flex flex-row flex-wrap justify-content-center justify-content-md-between",children:[(0,o.jsxs)(n.rb,{className:"w-100 align-items-center",children:[(0,o.jsxs)(n.b7,{className:"text-sm-start col-12 col-sm-4 col-lg-4 col-md-4",children:["Prof -"," ",a.teacher.charAt(0).toUpperCase()+a.teacher.slice(1)," "]}),(0,o.jsx)(n.b7,{className:" text-sm-end col-12 col-sm-4 col-lg-4 col-md-4",children:(0,o.jsxs)("div",{className:"w-100 text-center",children:[" ",a.batches.map(((e,s)=>(0,o.jsxs)("span",{children:[e.batch_name.toUpperCase(),s<a.batches.length-1&&", "]},s)))," "]})}),(0,o.jsxs)(n.b7,{className:"text-sm-end col-12 col-sm-4 col-lg-4 col-md-4",children:[a.classroom.class_name.charAt(0).toUpperCase()+a.classroom.class_name.slice(1)," "]})]}),(0,o.jsx)("div",{className:"d-flex flex-wrap w-100",children:(0,o.jsxs)("div",{className:"w-100 mt-3",children:[("pre"===a.session.active||"ongoing"===a.session.active)&&(0,o.jsx)("button",{className:"btn ".concat(a.session.attendances.is_present?"btn-outline-secondary":"btn-outline-primary"," w-100 mt-3"),value:a.slug,onClick:t=>!a.session.attendances.is_present&&(async(a,t)=>{if(navigator.geolocation)try{navigator.geolocation.getCurrentPosition((async n=>{const c=n.coords.latitude,r=n.coords.longitude;console.log(n.coords);const i=l.Z.create(),o=await s(e,i,"/manage/session/mark_attendance_for_student/","post",{"Content-Type":"application/json","ngrok-skip-browser-warning":!0},{lecture_slug:t,latitude:c,longitude:r},null);!1===o.error?!0===o.response.data.data&&(a.disabled=!0,a.classList.add("btn-outline-secondary"),alert("your Attendance Marked successfully")):(100==o.errorMessage.code&&(a.disabled=!0,a.classList.add("btn-outline-secondary")),alert(o.errorMessage.message))}),(e=>{alert(e.message)}),{enableHighAccuracy:!0,maximumAge:0})}catch(n){return void alert("Location services are not available, Please enable it from you browser")}else alert("Geolocation is not supported by this browser.")})(t.target,t.target.value),disabled:a.session.attendances.is_present,children:"Mark Your Attendance"}),"post"===a.session.active&&(0,o.jsx)("button",{className:"btn btn-outline-secondary w-100 mt-3",disabled:!0,children:"Session Ended"})]})}),(0,o.jsx)("div",{children:(0,o.jsx)("hr",{})})]})]},t))):(0,o.jsx)(n.oo,{className:"w-100 d-flex justify-content-center mt-3",autohide:!1,visible:!0,children:(0,o.jsx)(n.S3,{children:"No Lectures Today"})})})})})]},t)}))):(0,o.jsx)(n.oo,{className:"w-100 d-flex justify-content-center mt-3",autohide:!1,visible:!0,children:(0,o.jsx)(n.S3,{children:"No Lectures Today"})})})})})})})})})]})})},t))):(0,o.jsxs)(n.oo,{animation:!1,autohide:!1,visible:!0,className:"mx-auto w-100",children:[(0,o.jsx)(n.xZ,{className:"bg-dark d-flex justify-content-center",children:(0,o.jsx)("img",{src:"/static/media/smartroll_logo.a3c3e21d0b4a56919e74.png",width:100,alt:"SmartRoll Logo"})}),(0,o.jsx)(n.S3,{children:(0,o.jsx)("p",{children:"No Timetable Found"})})]})})})})}}}]);
//# sourceMappingURL=551.4c7da31e.chunk.js.map