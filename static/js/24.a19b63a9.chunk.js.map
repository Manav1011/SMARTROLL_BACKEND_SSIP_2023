{"version":3,"file":"static/js/24.a19b63a9.chunk.js","mappings":"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","sources":["base_url.js","views/pages/login/Login.js"],"sourcesContent":["export const base_url= `http://192.168.157.106:8000`;\nexport const websocket = `ws://192.168.157.106:8000`;\n// export const base_url= `http://192.168.157.106:8000`;\n// export const websocket = `ws://192.168.157.106:8000`;\n\n// const token = localStorage.getItem('accessToken')\n// const header = {\n//     \"Content-Type\":\"application/json\",\n//     \"Authorization\": `Bearer ${token}`,\n//     'ngrok-skip-browser-warning':true\n//   }\n","import React, { useEffect } from 'react';\nimport Axios from 'axios';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { useState } from 'react';\nimport { useContext } from 'react'\nimport { Store } from 'src/views/forms/validation/store';\nimport {base_url} from 'src/base_url';\nimport \"./LoginForm.css\";\nimport expireToken from 'src/global_function/unauthorizedToken';\nimport '../../../css/tailwind.css'\nimport { useForm } from \"react-hook-form\";\nimport { CCol, CRow } from '@coreui/react';\n\n\nexport default function Login(){\n     const navigate = useNavigate();\n     const { register, handleSubmit} = useForm();      \n    \n      const { state, dispatch: ctxDispatch } = useContext(Store);\n      const { refreshToken , set404 ,loader_state} = state;\n\n      const SubmitLogin = (data) => {\n        ctxDispatch({ type: 'LOADER_STATE', payload: true});\n        const header = {\n          'ngrok-skip-browser-warning':true\n        }\n        Axios.post(`${base_url}/auth/api/login/`,{\n          \"email\":  data.email,\n          \"password\":data.password        \n        },{header})\n        .then((response)=>{        \n          ctxDispatch({ type: 'LOADER_STATE', payload: false});\n          ctxDispatch({ type: 'ACCESS_TOKEN', payload: response.data.access});\n          ctxDispatch({ type: 'REFRESH_TOKEN', payload: response.data.refresh });\n\n          localStorage.setItem('accessToken',response.data.access)\n          localStorage.setItem('refreshToken',response.data.refresh)        \n          navigate('/')\n        })\n        .catch((error)=>{  \n          ctxDispatch({ type: 'LOADER_STATE', payload: false});        \n          if(error.code === \"ERR_NETWORK\"){\n            ctxDispatch({ type: 'SET_404', payload: true });\n          }\n          else{\n            if(error.response.status === 401){\n              alert(error.response.data.detail)\n              \n          }\n          }\n          \n        })\n    }\n    useEffect(()=>{      \n      if(set404){\n        navigate(\"/404\")\n        ctxDispatch({ type: 'SET_404', payload: false });        \n      }\n    },[set404])    \n\n    const EnterEnrollment = () => {\n      const enrollment = prompt(\"Please enter your enrollment no!!\");\n      if(isNaN(enrollment)){\n        alert(\"Please enter a valid enrollment number!!\")\n        return;\n      }\n      const header = {\n        'ngrok-skip-browser-warning':true\n      }\n      Axios.post(`${base_url}/auth/api/forgot_password/`,{enrollment:enrollment},{header})\n      .then((response)=>{\n          alert(\"Reset password link has been sent to your registered email...\")\n      })\n      .catch((error)=>{\n          alert(error.response.data.message)\n      })\n      // API CALL\n    }\n\n  return (\n    <>\n      <div  className={!loader_state ? 'd-none' : ''} style={{backdropFilter: 'blur(5px)',height: '100vh', width: '100%', position: 'absolute',zIndex: 9999,top: 0, justifyContent: 'center', display: 'flex', alignItems: 'center', left: 0 }}>\n        <img className=\"animated-container\" style={{height:'10vh'}} src='/static/svgs/loader.svg'></img>\n      </div>\n    <div className=\"h-screen bg-center sm:p-10 p-2\" style={{backgroundImage:`url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32' width='32' height='32' fill='none' stroke='%23f1f5f9'%3e%3cpath d='M0 .5H31.5V32'/%3e%3c/svg%3e\")`}}>\n      <section className=\"w-full h-full flex justify-center items-center\">\n      <div className=\"text-white sm:w-full w-75\">        \n        <form className=\"max-w-sm mx-auto\" onSubmit={handleSubmit(SubmitLogin)} autoComplete='off'>\n          <div className=\"relative border-b-2\tborder-slate-500 z-0 w-full mb-5 group\">\n            <input type=\"email\" name=\"floating_email\" id=\"floating_email\" className=\"block py-2.5 px-0 w-full text-sm  bg-transparent border-0 border-b-2 border-gray-300 appearance-none text-black dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer\" placeholder=\" \" required {...register('email')}/>\n            <label htmlFor=\"floating_email\" className=\"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6\">Email address</label>\n          </div>\n          <div className=\"relative z-0 border-b-2\tborder-slate-500 w-full mb-5 group\">\n            <input type=\"password\" name=\"floating_password\" id=\"floating_password\" className=\"block py-2.5 px-0 w-full text-sm bg-transparent border-0 border-b-2 border-gray-300 appearance-none text-black dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer\" placeholder=\"\" required  {...register('password')}/>\n            <label htmlFor=\"floating_email\" className=\"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6\">Password</label>\n          </div>\n          <CRow>\n            <CCol>\n            <button type=\"submit\" className=\"w-100 focus:ring-4  font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center  text-black\" style={{background:'#ffa31a'}}> Login </button>\n            </CCol>\n          </CRow>\n            <CRow className='justify-center mt-4'>\n              <CCol className='w-full text-center'>\n                <div className='text-black'> Do not have an account?  <Link to={\"/register\"} className='ml-2' style={{color:'#ffa31a'}}>Register</Link></div>\n                <div className='text-black'> Or <button className=\"\" type=\"button\" onClick={EnterEnrollment} style={{color:'#ffa31a'}}>Forgot Password</button></div>\n              </CCol>\n            </CRow>            \n        </form>\n          \n      </div>\n      </section>\n    </div>    \n    </>\n  );\n};"],"names":["base_url","websocket","Login","navigate","useNavigate","register","handleSubmit","useForm","state","dispatch","ctxDispatch","useContext","Store","refreshToken","set404","loader_state","useEffect","type","payload","_jsxs","_Fragment","children","_jsx","className","style","backdropFilter","height","width","position","zIndex","top","justifyContent","display","alignItems","left","src","backgroundImage","onSubmit","data","Axios","post","concat","email","password","header","then","response","access","refresh","localStorage","setItem","catch","error","code","status","alert","detail","autoComplete","name","id","placeholder","required","htmlFor","CRow","CCol","background","Link","to","color","onClick","EnterEnrollment","enrollment","prompt","isNaN","message"],"sourceRoot":""}