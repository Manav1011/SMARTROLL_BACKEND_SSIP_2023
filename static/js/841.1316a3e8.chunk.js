"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[841],{1841:(e,s,t)=>{t.r(s),t.d(s,{default:()=>d});var a=t(2791),l=t(2937),c=t(5294),n=t(9792),r=t(7689),i=t(2426),m=t.n(i),o=t(184);function d(){const e=(0,r.s0)(),[s,t]=(0,a.useState)(!1),[i,d]=(0,n.Z)(),[u,h]=(0,a.useState)(null),[x,b]=(0,a.useState)(null),j=async s=>{e("/teacher/session?slug=".concat(s))};return(0,a.useEffect)((()=>{s||navigator.geolocation&&navigator.geolocation.getCurrentPosition((e=>{t(!0)})),(async()=>{const e=c.Z.create(),s=await d(i,e,"/manage/get_timetable_for_teacher","get",{"Content-Type":"application/json","ngrok-skip-browser-warning":!0},null,null);if(!1===s.error){const e=s.response.data.data.map(((e,s)=>{const t={branch_name:e.branch_name,branch_slug:e.slug},a=[];return e.semesters.map(((e,s)=>{e.divisions.map(((s,t)=>{s.timetable.schedule.lectures.length>0&&s.timetable.schedule.lectures.map(((t,l)=>{a.push({...t,division_name:s.division_name,semester:e.no,schedule:s.timetable.schedule.day})}))}))})),{...t,lectures:a}}));console.log(e),h(e)}else alert(s.errorMessage.message)})()}),[s]),(0,o.jsx)(o.Fragment,{children:s?(0,o.jsx)(l.rb,{className:"mb-3",children:(0,o.jsx)(l.b7,{children:u&&u.map(((e,s)=>(0,o.jsxs)("div",{children:[(0,o.jsx)(l.Gc,{className:"m-0 rounded-0 w-100 p-2 d-flex justify-content-between align-items-center mb-2",color:"primary",visible:!0,children:e.branch_name}),e.lectures.length>0?e.lectures.map(((e,s)=>(0,o.jsx)("div",{className:"d-flex justify-content-center w-100",children:(0,o.jsx)(l.rb,{className:"flex-column w-100",style:{padding:"0"},children:(0,o.jsx)(l.b7,{className:"d-flex align-items-center flex-column w-100",children:(0,o.jsx)("div",{className:"w-100 rounded-0 border-0",children:(0,o.jsx)("div",{className:"",style:{paddingBottom:"0px"},children:(0,o.jsx)("div",{className:"justify-content-center w-100",children:(0,o.jsxs)(l.oo,{autohide:!1,visible:!0,className:"mb-3 mt-3 w-100 ".concat(e.is_proxy?"border-red-700":""),children:[(0,o.jsxs)(l.xZ,{className:"d-flex flex-wrap justify-content-sm-between justify-content-center mx-2",children:[(0,o.jsxs)("div",{className:"w-100 fw-bold text-center",children:[(0,o.jsx)("div",{children:(0,o.jsxs)("small",{className:"mx-2 my-2",children:["Semester: ",e.semester," | Division : ",e.division_name]})}),e.is_proxy?(0,o.jsx)("div",{children:(0,o.jsxs)("small",{className:"mx-2 my-2",children:[e.is_proxy?"Proxied from ":"",e.link?e.link.from_lecture.subject.subject_name:""]})}):null,(0,o.jsx)("hr",{className:"w-100 my-2"})]}),(0,o.jsx)("div",{className:"fw-bold mx-2",children:e.subject.subject_name.charAt(0).toUpperCase()+e.subject.subject_name.slice(1)}),(0,o.jsx)("small",{className:"mx-2 my-2",children:e.type.toUpperCase()}),(0,o.jsxs)("small",{className:"mx-2 my-2",children:[m()(e.start_time.slice(0,5),"HH:mm").format("h:mm A")," |"," ",m()(e.end_time.slice(0,5),"HH:mm").format("h:mm A")]})]}),(0,o.jsxs)(l.S3,{className:"d-flex flex-row flex-wrap justify-content-center",children:[(0,o.jsxs)(l.rb,{className:"w-100 align-items-center",children:[(0,o.jsxs)(l.b7,{className:"text-sm-start text-center col-12 col-sm-4 col-lg-4 col-md-4",children:["Prof - ",e.teacher.charAt(0).toUpperCase()+e.teacher.slice(1)]}),(0,o.jsx)(l.b7,{className:" text-sm-end col-12 col-sm-4 col-lg-4 col-md-4",children:(0,o.jsxs)("div",{className:"w-100 text-center",children:[" ",e.batches.map(((s,t)=>(0,o.jsxs)("span",{children:[s.batch_name.toUpperCase(),t<e.batches.length-1&&", "]},t)))," "]})}),(0,o.jsxs)(l.b7,{className:"text-sm-end text-center col-12 col-sm-4 col-lg-4 col-md-4",children:[e.classroom.class_name.charAt(0).toUpperCase()+e.classroom.class_name.slice(1)," "]})]}),(0,o.jsx)("div",{className:"d-flex w-100",children:(0,o.jsxs)("div",{className:"w-100",children:["pre"===e.session.active&&(0,o.jsx)("button",{className:"btn btn-outline-primary w-100 mt-3",value:e.slug,onClick:e=>j(e.target.value),children:"Start Session"}),"ongoing"===e.session.active&&(0,o.jsx)("button",{className:"btn btn-outline-primary w-100 mt-3",value:e.slug,onClick:e=>j(e.target.value),children:"Ongoing Session"}),"post"===e.session.active&&(0,o.jsx)("button",{disabled:!0,className:"btn btn-outline-secondary w-100 mt-3",children:"Session Ended"})]})}),(0,o.jsx)("div",{})]})]},s)})})})},s)})},s))):(0,o.jsx)("div",{className:"d-flex w-100 justify-content-center",children:(0,o.jsx)("div",{className:"alert alert-warning w-75 my-2 text-center ",children:(0,o.jsx)("span",{className:"",children:"No lecture sessions are there for this branch"})})})]},s)))})}):(0,o.jsx)("iframe",{width:"100%",height:"315",src:"https://www.youtube.com/embed/ERhEIsEXG50?si=i9ez0hxneFCuAe6E",title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0})})}}}]);
//# sourceMappingURL=841.1316a3e8.chunk.js.map