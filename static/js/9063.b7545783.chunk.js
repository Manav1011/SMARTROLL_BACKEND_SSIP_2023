"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[9063],{2958:(e,t,a)=>{a.d(t,{Z:()=>s});const s="https://356f-49-36-66-75.ngrok-free.app"},9160:(e,t,a)=>{a.d(t,{Z:()=>o});var s=a(5294),r=a(2958);const o=async(e,t)=>{s.Z.post("".concat(r.Z,"/auth/api/token/refresh/"),{refresh:e},{headers:{"ngrok-skip-browser-warning":!0}}).then((e=>{localStorage.setItem("accessToken",e.data.access),localStorage.setItem("refreshToken",e.data.refresh),t(!0)})).catch((e=>{console.log(e)}))}},8222:(e,t,a)=>{a.r(t),a.d(t,{default:()=>h});var s=a(2791),r=a(5294),o=a(7689),n=a(2585),l=a(2958),c=a(9160);const i=a.p+"static/media/remote-meet.7e638af53944f3764049.png";var d=a(184);function h(){const e=(0,o.s0)(),[t,a]=(0,s.useState)(""),[h,p]=(0,s.useState)(""),{state:m,dispatch:u}=(0,s.useContext)(n.y),{refreshToken:f,set404:g}=m;return(0,s.useEffect)((()=>{g&&(e("/404"),u({type:"SET_404",payload:!1}),console.log(g))}),[g]),(0,d.jsxs)("div",{className:"d-flex justify-content-center align-items-center",style:{height:"100vh",flexWrap:"wrap"},children:[(0,d.jsx)("div",{className:"illustration-auth container",style:{flex:"1",minWidth:"300px"},children:(0,d.jsx)("img",{src:i,alt:"",style:{width:"100%",height:"auto"}})}),(0,d.jsxs)("div",{id:"login-form",style:{marginLeft:"2rem",marginRight:"2rem",flex:"1"},children:[(0,d.jsx)("h1",{children:"Login"}),(0,d.jsxs)("form",{onSubmit:async a=>{a.preventDefault();r.Z.post("".concat(l.Z,"/auth/api/login/"),{email:t,password:h},{header:{"ngrok-skip-browser-warning":!0}}).then((t=>{u({type:"ACCESS_TOKEN",payload:t.data.access}),u({type:"REFRESH_TOKEN",payload:t.data.refresh}),localStorage.setItem("accessToken",t.data.access),localStorage.setItem("refreshToken",t.data.refresh),e("/")})).catch((e=>{console.log(e.code),"ERR_NETWORK"===e.code?u({type:"SET_404",payload:!0}):401===e.response.status&&(0,c.Z)(f)}))},children:[(0,d.jsx)("label",{htmlFor:"username",children:"Email:"}),(0,d.jsx)("input",{type:"text",id:"usermail ",name:"email",onChange:e=>a(e.target.value),placeholder:"example@gmail.com"}),(0,d.jsx)("label",{htmlFor:"password",children:"Password:"}),(0,d.jsx)("input",{type:"password",onChange:e=>p(e.target.value),placeholder:"Password",name:"password"}),(0,d.jsx)("button",{className:"form-control btn btn-outline-dark",type:"submit",value:"Submit",children:"Login"})]})]})]})}}}]);
//# sourceMappingURL=9063.b7545783.chunk.js.map