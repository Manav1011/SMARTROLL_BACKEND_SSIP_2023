"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[243],{243:(e,s,t)=>{t.r(s),t.d(s,{default:()=>u});var i=t(5043),n=t(6213),r=t(7128),a=t(3946),l=t(2355),o=t(3216),c=t(9426),d=t(579);const h=(e,s,t)=>{const[h,u]=(0,c.A)(),[m,x]=(0,i.useState)(!1),[p,g]=(0,i.useState)(null),{state:j,dispatch:v}=(0,i.useContext)(r.i),{accessToken:_,refreshToken:b,semesters:f,objectCount:k}=j,[C,y]=(0,i.useState)(k);(0,o.Zp)();return(0,d.jsxs)(a.qI,{className:"row g-3 needs-validation",noValidate:!0,validated:m,onSubmit:i=>{!1===i.currentTarget.checkValidity()&&(i.preventDefault(),i.stopPropagation()),i.preventDefault(),x(!0);(async s=>{if(p){const i={"Content-Type":"application/json","ngrok-skip-browser-warning":!0},r=n.A.create();let a="/manage/add_division/",o="post",c=i,d=await u(h,r,a,o,c,s,null);if(0==d.error){let s=d.response,i={...k};i.divisons+=1,v({type:"GET_OBJECTS",payload:i}),e((e=>[...e,s.data.data])),t((e=>e+1)),(0,l.S)("success","Semester Added successfully...!")}else alert(d.errorMessage.message)}else alert("Please Enter The Valid Division Name")})({division_name:p,semester_slug:s})},children:[(0,d.jsxs)(a.UF,{md:12,children:[(0,d.jsx)(a.A6,{htmlFor:"validationCustom01",children:"Division Name"}),(0,d.jsx)(a.OG,{type:"text",id:"validationCustom01",onChange:e=>g(e.target.value.toUpperCase()),required:!0,maxLength:1}),(0,d.jsx)(a.To,{valid:!0,children:"Looks good!"})]}),(0,d.jsx)(a.UF,{xs:12,children:(0,d.jsx)("button",{className:"btn btn-outline-dark form-control",type:"submit",children:"Submit form"})})]})},u=e=>{const{semester_slug:s,chageSteps:t,set_division_slug:c,set_divisionCount:u}=e,[m,x]=(0,i.useState)([]),{state:p,dispatch:g}=(0,i.useContext)(r.i),{accessToken:j,refreshToken:v,semesters:_}=p;(0,o.Zp)();return(0,i.useEffect)((()=>{(async()=>{const e=n.A.create();let t={"Content-Type":"application/json","ngrok-skip-browser-warning":!0},i=await(0,l.R)(e,"/manage/get_divisions","get",t,null,{semester_slug:s});if(0==i.error){let e=i.response;x(e.data.data)}else alert(i.errorMessage.message)})()}),[]),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(a.sK,{children:(0,d.jsx)(a.UF,{xs:12,children:(0,d.jsxs)(a.E$,{className:"mb-3",children:[(0,d.jsx)(a.V0,{children:(0,d.jsx)("strong",{children:"Divison"})}),(0,d.jsx)(a.W6,{children:h(x,s,u)})]})})}),(0,d.jsx)(a.sK,{children:(0,d.jsx)(a.UF,{xs:!0,children:(0,d.jsxs)(a.E$,{className:"mb-4",children:[(0,d.jsx)(a.V0,{children:(0,d.jsx)("strong",{children:"Division History"})}),(0,d.jsx)(a.W6,{children:(0,d.jsxs)(a._v,{align:"middle",className:"mb-0 border",hover:!0,responsive:!0,children:[(0,d.jsx)(a.wV,{color:"light",children:(0,d.jsx)(a.YI,{onClick:()=>{t("batch")},style:{textAlign:"center"},children:(0,d.jsx)(a.$s,{children:"Division Name"})})}),(0,d.jsx)(a.jS,{style:{textAlign:"center"},children:m.map(((e,s)=>(0,d.jsx)(a.YI,{onClick:()=>{t("batch"),c(e.slug)},style:{cursor:"pointer"},children:(0,d.jsx)(a.cC,{children:(0,d.jsx)("div",{children:e.division_name})})},s)))})]})})]})})})]})}}}]);
//# sourceMappingURL=243.cf93f7d2.chunk.js.map