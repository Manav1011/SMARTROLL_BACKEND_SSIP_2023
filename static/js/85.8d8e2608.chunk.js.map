{"version":3,"file":"static/js/85.8d8e2608.chunk.js","mappings":"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","sources":["views/forms/input-group/InputGroup.js"],"sourcesContent":["import React from 'react'\nimport { useState , useContext,useEffect } from 'react'\nimport PropTypes from 'prop-types'\nimport { Store } from '../validation/store'\nimport axios from 'axios'\nimport {base_url} from 'src/base_url'\nimport expireToken from 'src/global_function/unauthorizedToken'\nimport { APIMiddleware } from 'src/global_function/GlobalFunctions'\nimport {\n  CButton,\n  CCard,\n  CCardBody,\n  CCardHeader,\n  CCol,\n  CForm,\n  CFormInput,\n  CFormFeedback,\n  CFormLabel,\n  CRow,\n  CTable,\n  CTableBody,\n  CTableHead,\n  CTableHeaderCell,\n  CTableRow,\n  CTableDataCell,\n} from '@coreui/react'\nimport { useNavigate } from 'react-router-dom'\nimport { showAlert } from 'src/global_function/GlobalFunctions'\nimport { batch } from 'react-redux'\nimport useAPI from 'src/global_function/useApi'\nconst CustomStyles = (division_slug,set_batches,setBatchCout) => {\n  const [validated, setValidated] = useState(false)\n  const [batch_name, set_batch_name] = useState(null);\n  \n  const { state, dispatch: ctxDispatch } = useContext(Store);\n  const { accessToken,refreshToken, objectCount } = state\n  const navigate = useNavigate()\n\n  //custom hook to call the API\n\n  const [StoredTokens,CallAPI] = useAPI()\n\n\n  const add_batch = async (body) => {\n    if(batch_name){\n\n    }\n    else{\n      alert(\"Please Enter The Valid Batch Name\")\n    }\n    const header = {\n      \"Content-Type\":\"application/json\",      \n      'ngrok-skip-browser-warning':true\n    }\n    const axiosInstance = axios.create()\n    let endpoint = `/manage/add_batch/`;let method='post';let headers = header;\n    let response_obj = await CallAPI(StoredTokens,axiosInstance,endpoint,method,headers,body,null)\n    if(response_obj.error == false){\n        let response = response_obj.response        \n        let changeSubjectCount = {...objectCount}\n        changeSubjectCount.batches += 1      \n        console.log(changeSubjectCount)  \n        ctxDispatch({ type: 'GET_OBJECTS', payload: changeSubjectCount })\n        set_batches(prevArray => [...prevArray, response.data.data])\n        setBatchCout(preValue => preValue + 1);\n        showAlert(\"success\",\"Batch Added successfully...!\")\n      }else{     \n        alert(response_obj.errorMessage.message)     \n      }    \n  }\n  \n  const handleSubmit = (event) => {\n    const form = event.currentTarget\n    if (form.checkValidity() === false) {\n      event.preventDefault()\n      event.stopPropagation()\n    }\n    setValidated(true)\n    const body = {\n      division_slug:division_slug,\n      batch_name:batch_name,\n    }\n    event.preventDefault()\n    add_batch(body)\n    \n  }\n  return (\n    <CForm\n      className=\"row g-3 needs-validation\"\n      noValidate\n      validated={validated}\n      onSubmit={handleSubmit}\n    >\n      <CCol md={12}>\n        <CFormLabel htmlFor=\"validationCustom01\">Batch Name</CFormLabel>\n        <CFormInput type=\"text\" id=\"validationCustom01\" onChange={e => set_batch_name(e.target.value)} required />\n        <CFormFeedback valid>Looks good!</CFormFeedback>\n      </CCol>\n      <CCol xs={12}>\n        <button className='btn btn-outline-dark form-control' type=\"submit\">\n          Submit form\n        </button>\n      </CCol>\n    </CForm>\n  )\n}\n\nconst Select = (props) => {\n\n  const [StoredTokens, CallAPI] = useAPI()\n  const { state, dispatch: ctxDispatch } = useContext(Store);\n  const { accessToken,refreshToken, semesters } = state\n  const navigate = useNavigate()\n  const {division_slug , chageSteps,setBatchCout} = props\n  const [batches, set_batches] = useState([]);\n  \n  const load_batches = async () => {\n    const header = {\n      \"Content-Type\":\"application/json\",        \n      'ngrok-skip-browser-warning':true\n    }\n    const axiosInstance = axios.create()\n    let endpoint = `/manage/get_batches`;let method='get';let headers = header;\n    let response_obj = await APIMiddleware(axiosInstance,endpoint,method,headers,null,{ division_slug: division_slug })\n    if(response_obj.error == false){\n      let response = response_obj.response\n      set_batches(response.data.data)\n    }else{      \n      alert(response_obj.errorMessage.message)  \n    }\n  }\n\n  useEffect(() => {\n      load_batches()\n  }, []);\n  return (\n    <>\n      <CRow>\n        <CCol xs={12}>\n          <CCard className=\"mb-3\">\n            <CCardHeader>\n              <strong>Batches</strong>\n            </CCardHeader>\n            <CCardBody>{CustomStyles(division_slug,set_batches,setBatchCout)}</CCardBody>\n          </CCard>\n        </CCol>\n      </CRow>\n      <CRow>\n        <CCol xs>\n          <CCard className=\"mb-4\">\n            <CCardHeader>\n              <strong>Batch History</strong>\n            </CCardHeader>\n            <CCardBody>\n              <CTable align=\"middle\" className=\"mb-0 border\" hover responsive>\n                <CTableHead color=\"light\">\n                  <CTableRow className='text-center'>\n                    <CTableHeaderCell>Batch Name</CTableHeaderCell>\n                  </CTableRow>\n                </CTableHead>\n                <CTableBody>\n                  {batches.map((item, index) => (\n                    <CTableRow v-for=\"item in tableItems\" key={index}>\n                      <CTableDataCell>\n                        <div className='text-center'>{item.division.division_name} | {item.batch_name}</div>\n                      </CTableDataCell>\n                    </CTableRow>\n                  ))}\n                </CTableBody>\n              </CTable>\n            </CCardBody>\n          </CCard>\n        </CCol>\n      </CRow>\n    </>\n  )\n}\nSelect.prototype = {\n  chageSteps:PropTypes.func.isRequired,\n  semSlug: PropTypes.string\n}\nexport default Select\n"],"names":["CustomStyles","division_slug","set_batches","setBatchCout","validated","setValidated","useState","batch_name","set_batch_name","state","dispatch","ctxDispatch","useContext","Store","accessToken","refreshToken","objectCount","StoredTokens","CallAPI","useNavigate","useAPI","_jsxs","CForm","className","noValidate","onSubmit","event","currentTarget","checkValidity","preventDefault","stopPropagation","body","async","alert","axiosInstance","axios","create","headers","response_obj","error","response","changeSubjectCount","batches","console","log","type","payload","prevArray","data","preValue","showAlert","errorMessage","message","add_batch","children","CCol","md","_jsx","CFormLabel","htmlFor","CFormInput","id","onChange","e","target","value","required","CFormFeedback","valid","xs","Select","props","semesters","chageSteps","useEffect","APIMiddleware","load_batches","_Fragment","CRow","CCard","CCardHeader","CCardBody","CTable","align","hover","responsive","CTableHead","color","CTableRow","CTableHeaderCell","CTableBody","map","item","index","CTableDataCell","division","division_name","prototype","PropTypes","isRequired","semSlug"],"sourceRoot":""}