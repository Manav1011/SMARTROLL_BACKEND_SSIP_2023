"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[85],{4085:(e,s,t)=>{t.r(s),t.d(s,{default:()=>j});var a=t(2791),n=t(2007),r=t.n(n),i=t(2585),c=t(5294),l=(t(2958),t(9160),t(3645)),o=t(2937),d=t(7689),h=(t(9434),t(9792)),u=t(184);const m=(e,s,t)=>{const[n,r]=(0,a.useState)(!1),[m,x]=(0,a.useState)(null),{state:j,dispatch:p}=(0,a.useContext)(i.y),{accessToken:g,refreshToken:b,objectCount:_}=j,[f,v]=((0,d.s0)(),(0,h.Z)());return(0,u.jsxs)(o.lx,{className:"row g-3 needs-validation",noValidate:!0,validated:n,onSubmit:a=>{!1===a.currentTarget.checkValidity()&&(a.preventDefault(),a.stopPropagation()),r(!0);const n={division_slug:e,batch_name:m};a.preventDefault(),(async e=>{m||alert("Please Enter The Valid Batch Name");const a=c.Z.create();let n={"Content-Type":"application/json","ngrok-skip-browser-warning":!0},r=await v(f,a,"/manage/add_batch/","post",n,e,null);if(0==r.error){let e=r.response,a={..._};a.batches+=1,console.log(a),p({type:"GET_OBJECTS",payload:a}),s((s=>[...s,e.data.data])),t((e=>e+1)),(0,l.w)("success","Batch Added successfully...!")}else alert(r.errorMessage.message)})(n)},children:[(0,u.jsxs)(o.b7,{md:12,children:[(0,u.jsx)(o.L8,{htmlFor:"validationCustom01",children:"Batch Name"}),(0,u.jsx)(o.jO,{type:"text",id:"validationCustom01",onChange:e=>x(e.target.value),required:!0}),(0,u.jsx)(o.CO,{valid:!0,children:"Looks good!"})]}),(0,u.jsx)(o.b7,{xs:12,children:(0,u.jsx)("button",{className:"btn btn-outline-dark form-control",type:"submit",children:"Submit form"})})]})},x=e=>{const[s,t]=(0,h.Z)(),{state:n,dispatch:r}=(0,a.useContext)(i.y),{accessToken:x,refreshToken:j,semesters:p}=n,{division_slug:g,chageSteps:b,setBatchCout:_}=((0,d.s0)(),e),[f,v]=(0,a.useState)([]);return(0,a.useEffect)((()=>{(async()=>{const e=c.Z.create();let s={"Content-Type":"application/json","ngrok-skip-browser-warning":!0},t=await(0,l.J)(e,"/manage/get_batches","get",s,null,{division_slug:g});if(0==t.error){let e=t.response;v(e.data.data)}else alert(t.errorMessage.message)})()}),[]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(o.rb,{children:(0,u.jsx)(o.b7,{xs:12,children:(0,u.jsxs)(o.xH,{className:"mb-3",children:[(0,u.jsx)(o.bn,{children:(0,u.jsx)("strong",{children:"Batches"})}),(0,u.jsx)(o.sl,{children:m(g,v,_)})]})})}),(0,u.jsx)(o.rb,{children:(0,u.jsx)(o.b7,{xs:!0,children:(0,u.jsxs)(o.xH,{className:"mb-4",children:[(0,u.jsx)(o.bn,{children:(0,u.jsx)("strong",{children:"Batch History"})}),(0,u.jsx)(o.sl,{children:(0,u.jsxs)(o.Sx,{align:"middle",className:"mb-0 border",hover:!0,responsive:!0,children:[(0,u.jsx)(o.V,{color:"light",children:(0,u.jsx)(o.T6,{className:"text-center",children:(0,u.jsx)(o.is,{children:"Batch Name"})})}),(0,u.jsx)(o.NR,{children:f.map(((e,s)=>(0,u.jsx)(o.T6,{"v-for":"item in tableItems",children:(0,u.jsx)(o.NN,{children:(0,u.jsxs)("div",{className:"text-center",children:[e.division.division_name," | ",e.batch_name]})})},s)))})]})})]})})})]})};x.prototype={chageSteps:r().func.isRequired,semSlug:r().string};const j=x}}]);
//# sourceMappingURL=85.8d8e2608.chunk.js.map