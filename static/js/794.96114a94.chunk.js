"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[794],{2794:(e,s,t)=>{t.r(s),t.d(s,{default:()=>h});var r=t(5043),a=t(6213),n=t(3216),i=(t(2355),t(9426)),l=t(3946),c=t(7128),o=t(579);const d=(e,s,t)=>{const{state:d,dispatch:h}=(0,r.useContext)(c.i),{accessToken:m,refreshToken:u,batches:x,currentBatch:g,objectCount:j}=d,[p,b]=(0,r.useState)(!1),v=(new Date).getFullYear(),[f,w]=(0,r.useState)(0),[_,k]=(0,r.useState)(v),[C,S]=((parseInt(_,10)+1).toString(),(0,n.Zp)(),(0,i.A)());return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(l.qI,{className:"row g-3 needs-validation",noValidate:!0,validated:p,onSubmit:r=>{const n=r.currentTarget;if(r.preventDefault(),!1===n.checkValidity())return r.preventDefault(),r.stopPropagation(),void alert("Please enter the valid semester details");b(!0);(async t=>{if(0!=f){const r={"Content-Type":"application/json","ngrok-skip-browser-warning":!0},n=a.A.create();let i="/manage/add_semester/",l="post",c=r,o=await S(C,n,i,l,c,t,null);if(0==o.error){let t=o.response,r={...j};r.semesters+=1,h({type:"GET_OBJECTS",payload:r}),e((e=>[...e,t.data.data])),s((e=>e+1))}else alert(o.errorMessage.message)}else alert("Please Enter the Valid Semester Number")})({term_slug:t,no:f})},children:[(0,o.jsxs)(l.UF,{md:12,children:[(0,o.jsx)(l.A6,{htmlFor:"validationCustom01",children:"Semester Number"}),(0,o.jsx)(l.OG,{type:"number",min:1,max:8,step:"1",id:"validationCustom01",onChange:e=>w(e.target.value),required:!0,maxLength:1}),(0,o.jsx)(l.To,{valid:!0,children:"Looks good!"})]}),(0,o.jsx)(l.UF,{xs:12,children:(0,o.jsx)("button",{className:"btn btn-outline-dark form-control",type:"submit",children:"Submit form"})})]})})},h=e=>{const{chageSteps:s}=e,{set_semester_slug:t}=e,{setsemCount:h}=e,{term_slug:m}=e,{state:u,dispatch:x}=(0,r.useContext)(c.i),{accessToken:g,refreshToken:j,batches:p,currentBatch:b}=u,[v,f]=((0,n.Zp)(),(0,r.useState)([])),[w,_]=(0,i.A)();return(0,r.useEffect)((()=>{g&&(async()=>{const e=a.A.create();let s={"Content-Type":"application/json","ngrok-skip-browser-warning":!0},t=await _(w,e,"/manage/get_semesters","get",s,null,{term_slug:m});if(0==t.error){let e=t.response;f(e.data.data)}else alert(t.errorMessage.message)})()}),[]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(l.sK,{children:(0,o.jsx)(l.UF,{xs:12,children:(0,o.jsxs)(l.E$,{className:"mb-3",children:[(0,o.jsx)(l.V0,{children:(0,o.jsx)("strong",{children:"Semesters"})}),(0,o.jsx)(l.W6,{children:d(f,h,m)})]})})}),(0,o.jsx)(l.sK,{children:(0,o.jsx)(l.UF,{xs:!0,children:(0,o.jsxs)(l.E$,{className:"mb-4",children:[(0,o.jsx)(l.V0,{children:(0,o.jsx)("strong",{children:"Semester History"})}),(0,o.jsx)(l.W6,{children:(0,o.jsxs)(l._v,{align:"middle",className:"mb-0 border text-center",hover:!0,responsive:!0,children:[(0,o.jsx)(l.wV,{color:"light",children:(0,o.jsxs)(l.YI,{children:[(0,o.jsx)(l.$s,{children:"Semester No"}),(0,o.jsx)(l.$s,{children:"Activation Status"})]})}),(0,o.jsx)(l.jS,{children:v.map(((e,r)=>(0,o.jsxs)(l.YI,{"v-for":"item in tableItems",onClick:()=>{s("division"),t(e.slug)},style:{cursor:"grab"},children:[(0,o.jsx)(l.cC,{children:(0,o.jsx)("div",{children:e.no})}),(0,o.jsx)(l.cC,{children:(0,o.jsx)("div",{className:"d-flex justify-content-center",children:e.status?(0,o.jsx)("div",{children:(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-check-circle-fill",viewBox:"0 0 16 16",children:(0,o.jsx)("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"})})}):(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-x-circle-fill",viewBox:"0 0 16 16",children:(0,o.jsx)("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293 5.354 4.646z"})})})})]},r)))})]})})]})})})]})}}}]);
//# sourceMappingURL=794.96114a94.chunk.js.map