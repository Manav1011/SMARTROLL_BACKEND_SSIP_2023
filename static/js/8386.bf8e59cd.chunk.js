"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[8386],{8386:(e,s,t)=>{t.r(s),t.d(s,{default:()=>h});var r=t(2791),a=t(5294),n=t(7689),l=t(3645),i=t(2937),c=t(2585),o=(t(2958),t(9160),t(184));const d=(e,s,t)=>{const{state:d,dispatch:h}=(0,r.useContext)(c.y),{accessToken:x,refreshToken:u,batches:m,currentBatch:j,objectCount:b}=d,[g,p]=(0,r.useState)(!1),v=(new Date).getFullYear(),[f,w]=(0,r.useState)(v),C=(parseInt(f,10)+1).toString();(0,n.s0)();return(0,o.jsxs)(i.lx,{className:"row g-3 needs-validation",noValidate:!0,validated:g,onSubmit:e=>{const r=e.currentTarget;e.preventDefault(),!1===r.checkValidity()&&(e.preventDefault(),e.stopPropagation()),p(!0);(async e=>{const r=a.Z.create();let n={"Content-Type":"application/json","ngrok-skip-browser-warning":!0},i=await(0,l.J)(r,"/manage/add_batch","post",n,e,null);if(0==i.error){let e=i.response,r={...b};r.batches+=1,console.log(r),h({type:"GET_OBJECTS",payload:r}),s((s=>[...s,e.data.data])),t((e=>e+1))}else console.log(i.error)})({batch_name:f+"-"+C})},children:[(0,o.jsxs)(i.b7,{md:6,children:[(0,o.jsx)(i.L8,{htmlFor:"validationCustom01",children:"Start Year"}),(0,o.jsx)(i.jO,{type:"number",min:v,max:"2099",step:"1",value:f,id:"validationCustom01",onChange:e=>w(e.target.value),required:!0,maxLength:4}),(0,o.jsx)(i.CO,{valid:!0,children:"Looks good!"})]}),(0,o.jsxs)(i.b7,{md:6,children:[(0,o.jsx)(i.L8,{htmlFor:"validationCustom02",children:"End Year"}),(0,o.jsx)(i.jO,{type:"number",value:C,readOnly:!0,step:"1",id:"validationCustom02",required:!0,maxLength:4}),(0,o.jsx)(i.CO,{valid:!0,children:"Looks good!"})]}),(0,o.jsx)(i.b7,{xs:12,children:(0,o.jsx)("button",{className:"btn btn-outline-dark form-control",type:"submit",children:"Submit form"})})]})},h=e=>{const{chageSteps:s}=e,{setSlug:t}=e,{setBatchCout:a}=e,{state:l,dispatch:h}=(0,r.useContext)(c.y),{accessToken:x,refreshToken:u,batches:m,currentBatch:j}=l,[b,g]=((0,n.s0)(),(0,r.useState)(m));return(0,r.useEffect)((()=>{g(m)}),[m]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(i.rb,{children:(0,o.jsx)(i.b7,{xs:12,children:(0,o.jsxs)(i.xH,{className:"mb-3",children:[(0,o.jsx)(i.bn,{children:(0,o.jsx)("strong",{children:"Batches"})}),(0,o.jsx)(i.sl,{children:d(0,g,a)})]})})}),(0,o.jsx)(i.rb,{children:(0,o.jsx)(i.b7,{xs:!0,children:(0,o.jsxs)(i.xH,{className:"mb-4",children:[(0,o.jsx)(i.bn,{children:(0,o.jsx)("strong",{children:"Batches History"})}),(0,o.jsx)(i.sl,{children:(0,o.jsxs)(i.Sx,{align:"middle",className:"mb-0 border text-center",hover:!0,responsive:!0,children:[(0,o.jsx)(i.V,{color:"light",children:(0,o.jsxs)(i.T6,{children:[(0,o.jsx)(i.is,{children:"Batches"}),(0,o.jsx)(i.is,{children:"Activation Status"})]})}),(0,o.jsx)(i.NR,{children:b.map(((e,r)=>(0,o.jsxs)(i.T6,{"v-for":"item in tableItems",children:[(0,o.jsx)(i.NN,{children:(0,o.jsx)("div",{onClick:()=>{s("semester"),t(e.slug)},children:e.batch_name})}),(0,o.jsx)(i.NN,{children:(0,o.jsx)("div",{onClick:()=>{s("semester"),t(e.slug)},children:e.active?(0,o.jsx)("div",{children:(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-check-circle-fill",viewBox:"0 0 16 16",children:(0,o.jsx)("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"})})}):(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-x-circle-fill",viewBox:"0 0 16 16",children:(0,o.jsx)("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293 5.354 4.646z"})})})})]},r)))})]})})]})})})]})}}}]);
//# sourceMappingURL=8386.bf8e59cd.chunk.js.map