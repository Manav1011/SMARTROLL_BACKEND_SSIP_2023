"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[8386],{8386:(e,s,t)=>{t.r(s),t.d(s,{default:()=>x});var r=t(2791),a=t(5294),n=t(7689),l=t(3645),i=t(9792),c=t(2937),o=t(2585),d=t(184);const h=(e,s,t)=>{const{state:h,dispatch:x}=(0,r.useContext)(o.y),{accessToken:m,refreshToken:u,batches:g,currentBatch:j,objectCount:p}=h,[b,v]=(0,r.useState)(!1),w=(new Date).getFullYear(),[f,_]=(0,r.useState)(""),[k,C]=(0,r.useState)(w),[S,N]=((parseInt(k,10)+1).toString(),(0,n.s0)(),(0,i.Z)());return(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)(c.lx,{className:"row g-3 needs-validation",noValidate:!0,validated:b,onSubmit:r=>{const n=r.currentTarget;r.preventDefault(),!1===n.checkValidity()&&(r.preventDefault(),r.stopPropagation()),v(!0);(async t=>{const r=a.Z.create();let n={"Content-Type":"application/json","ngrok-skip-browser-warning":!0},l=await N(S,r,"/manage/add_semester/","post",n,t,null);if(0==l.error){let t=l.response,r={...p};r.semesters+=1,x({type:"GET_OBJECTS",payload:r}),e((e=>[...e,t.data.data])),s((e=>e+1))}else alert(l.errorMessage.message)})({term_slug:t,no:f}),(0,l.w)("success","Bactch Added successfully...!")},children:[(0,d.jsxs)(c.b7,{md:12,children:[(0,d.jsx)(c.L8,{htmlFor:"validationCustom01",children:"Semester Number"}),(0,d.jsx)(c.jO,{type:"number",min:1,max:8,step:"1",id:"validationCustom01",onChange:e=>_(e.target.value),required:!0,maxLength:1}),(0,d.jsx)(c.CO,{valid:!0,children:"Looks good!"})]}),(0,d.jsx)(c.b7,{xs:12,children:(0,d.jsx)("button",{className:"btn btn-outline-dark form-control",type:"submit",children:"Submit form"})})]})})},x=e=>{const{chageSteps:s}=e,{set_semester_slug:t}=e,{setBatchCout:l}=e,{term_slug:x}=e,{state:m,dispatch:u}=(0,r.useContext)(o.y),{accessToken:g,refreshToken:j,batches:p,currentBatch:b}=m,[v,w]=((0,n.s0)(),(0,r.useState)([])),[f,_]=(0,i.Z)();return(0,r.useEffect)((()=>{g&&(async()=>{const e=a.Z.create();let s={"Content-Type":"application/json","ngrok-skip-browser-warning":!0},t=await _(f,e,"/manage/get_semesters","get",s,null,{term_slug:x});if(0==t.error){let e=t.response;w(e.data.data)}else alert(t.errorMessage.message)})()}),[]),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(c.rb,{children:(0,d.jsx)(c.b7,{xs:12,children:(0,d.jsxs)(c.xH,{className:"mb-3",children:[(0,d.jsx)(c.bn,{children:(0,d.jsx)("strong",{children:"Semesters"})}),(0,d.jsx)(c.sl,{children:h(w,l,x)})]})})}),(0,d.jsx)(c.rb,{children:(0,d.jsx)(c.b7,{xs:!0,children:(0,d.jsxs)(c.xH,{className:"mb-4",children:[(0,d.jsx)(c.bn,{children:(0,d.jsx)("strong",{children:"Semester History"})}),(0,d.jsx)(c.sl,{children:(0,d.jsxs)(c.Sx,{align:"middle",className:"mb-0 border text-center",hover:!0,responsive:!0,children:[(0,d.jsx)(c.V,{color:"light",children:(0,d.jsxs)(c.T6,{children:[(0,d.jsx)(c.is,{children:"Semester No"}),(0,d.jsx)(c.is,{children:"Activation Status"})]})}),(0,d.jsx)(c.NR,{children:v.map(((e,r)=>(0,d.jsxs)(c.T6,{"v-for":"item in tableItems",onClick:()=>{s("division"),t(e.slug)},children:[(0,d.jsx)(c.NN,{children:(0,d.jsx)("div",{children:e.no})}),(0,d.jsx)(c.NN,{children:(0,d.jsx)("div",{children:e.status?(0,d.jsx)("div",{children:(0,d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-check-circle-fill",viewBox:"0 0 16 16",children:(0,d.jsx)("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"})})}):(0,d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-x-circle-fill",viewBox:"0 0 16 16",children:(0,d.jsx)("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293 5.354 4.646z"})})})})]},r)))})]})})]})})})]})}}}]);
//# sourceMappingURL=8386.48d0924e.chunk.js.map